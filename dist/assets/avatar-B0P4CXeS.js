import{j as e,c as r,P as a,f as t,h as n}from"./ui-CM4P41nz.js";import{r as s}from"./vendor-v6ZOr5pf.js";import{o}from"./index-PQ4S5UOd.js";var i={exports:{}},u={},l=s;var d="function"==typeof Object.is?Object.is:function(e,r){return e===r&&(0!==e||1/e==1/r)||e!=e&&r!=r},c=l.useState,f=l.useEffect,m=l.useLayoutEffect,v=l.useDebugValue;function p(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!d(e,a)}catch(t){return!0}}var g="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,r){return r()}:function(e,r){var a=r(),t=c({inst:{value:a,getSnapshot:r}}),n=t[0].inst,s=t[1];return m(function(){n.value=a,n.getSnapshot=r,p(n)&&s({inst:n})},[e,a,r]),f(function(){return p(n)&&s({inst:n}),e(function(){p(n)&&s({inst:n})})},[e]),v(a),a};u.useSyncExternalStore=void 0!==l.useSyncExternalStore?l.useSyncExternalStore:g,i.exports=u;var w=i.exports;function y(){return()=>{}}var S="Avatar",[x,h]=r(S),[N,j]=x(S),E=s.forwardRef((r,t)=>{const{__scopeAvatar:n,...o}=r,[i,u]=s.useState("idle");return e.jsx(N,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:u,children:e.jsx(a.span,{...o,ref:t})})});E.displayName=S;var L="AvatarImage",A=s.forwardRef((r,o)=>{const{__scopeAvatar:i,src:u,onLoadingStatusChange:l=()=>{},...d}=r,c=j(L,i),f=function(e,{referrerPolicy:r,crossOrigin:a}){const t=w.useSyncExternalStore(y,()=>!0,()=>!1),o=s.useRef(null),i=t?(o.current||(o.current=new window.Image),o.current):null,[u,l]=s.useState(()=>_(i,e));return n(()=>{l(_(i,e))},[i,e]),n(()=>{const e=e=>()=>{l(e)};if(!i)return;const t=e("loaded"),n=e("error");return i.addEventListener("load",t),i.addEventListener("error",n),r&&(i.referrerPolicy=r),"string"==typeof a&&(i.crossOrigin=a),()=>{i.removeEventListener("load",t),i.removeEventListener("error",n)}},[i,a,r]),u}(u,d),m=t(e=>{l(e),c.onImageLoadingStatusChange(e)});return n(()=>{"idle"!==f&&m(f)},[f,m]),"loaded"===f?e.jsx(a.img,{...d,ref:o,src:u}):null});A.displayName=L;var R="AvatarFallback",b=s.forwardRef((r,t)=>{const{__scopeAvatar:n,delayMs:o,...i}=r,u=j(R,n),[l,d]=s.useState(void 0===o);return s.useEffect(()=>{if(void 0!==o){const e=window.setTimeout(()=>d(!0),o);return()=>window.clearTimeout(e)}},[o]),l&&"loaded"!==u.imageLoadingStatus?e.jsx(a.span,{...i,ref:t}):null});function _(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}b.displayName=R;var I=E,O=A,C=b;const P=s.forwardRef(({className:r,...a},t)=>e.jsx(I,{ref:t,className:o("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a}));P.displayName=I.displayName;const k=s.forwardRef(({className:r,...a},t)=>e.jsx(O,{ref:t,className:o("aspect-square h-full w-full",r),...a}));k.displayName=O.displayName;const T=s.forwardRef(({className:r,...a},t)=>e.jsx(C,{ref:t,className:o("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a}));T.displayName=C.displayName;export{P as A,k as a,T as b};
