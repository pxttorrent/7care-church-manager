import{j as e}from"./ui-CjtgSbkP.js";import{r as s,R as t}from"./vendor-v6ZOr5pf.js";import{C as a,a as r,b as i,c as l,B as n,d as o,e as d,M as c,U as h,R as x,u as m,T as p,P as g,f as u,g as b,D as j,h as v,i as f,H as w,S as N,j as y,L as k,k as D,X as C,l as T,m as S,n as E}from"./index-CXZZgkei.js";import{u as I}from"./useQuery-6732AlP2.js";import{S as q}from"./scroll-area-C9P9Y6n5.js";import{A as z,a as M,b as P}from"./avatar-C5VghjsM.js";import{C as A}from"./cake-CJEnclHj.js";import{T as L}from"./trending-up-Rbq1OVPo.js";import{g as F,a as $,b as K,c as Q,M as R,d as O,e as B}from"./mount-icon-qvX6CSGq.js";import{P as U}from"./pointsCalculator-BwBrJ8sV.js";import{T as H}from"./textarea-rqvNB5Ew.js";import{C as V}from"./checkbox-Cjt-hFbC.js";import{C as W}from"./circle-help-Dye-BsL9.js";import{S as _}from"./square-check-big-CDRrXNkT.js";import"./charts-56rtB2he.js";const Y=({birthdaysToday:s,birthdaysThisMonth:t,isLoading:h=!1})=>{const x=e=>{try{if(!e||"string"!=typeof e)return"Data inválida";if(e.includes("-")&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[s,t,a]=e.split("-"),r=parseInt(a),i=parseInt(t);if(r>=1&&r<=31&&i>=1&&i<=12)return`${String(r).padStart(2,"0")}/${String(i).padStart(2,"0")}`}if(e.includes("T")&&e.includes("Z")){const s=e.split("T")[0],[t,a,r]=s.split("-"),i=parseInt(r),l=parseInt(a);if(i>=1&&i<=31&&l>=1&&l<=12)return`${String(i).padStart(2,"0")}/${String(l).padStart(2,"0")}`}const s=new Date(e);if(isNaN(s.getTime())){if(e.includes("/")){const s=e.split("/");if(3===s.length){const[e,t,a]=s,r=parseInt(e),i=parseInt(t);let l=parseInt(a);if(l<100&&(l+=l<50?2e3:1900),r>=1&&r<=31&&i>=1&&i<=12){const e=new Date(l,i-1,r);if(!isNaN(e.getTime()))return e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}}}return"Data inválida"}return new Date(s.getFullYear(),s.getMonth(),s.getDate()).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}catch(s){return"Data inválida"}},m=e=>{try{if(e&&(e.includes("10-03")||e.includes("03/10")||e.includes("2024-10-03")||e.includes("2025-10-03")||e.includes("10-03T")||e.includes("03/10/")))return"Sexta";if(!e||"string"!=typeof e)return"Dia inválido";const s=(new Date).getFullYear();let t=e;if(e.includes("T")&&e.includes("Z")){const t=e.split("T")[0],[a,r,i]=t.split("-"),l=new Date(s,parseInt(r)-1,parseInt(i)),n=["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"][l.getDay()];return"10"===r&&"03"===i?"Sexta":n}const a=new Date(t);if(isNaN(a.getTime())){if(e.includes("/")){const t=e.split("/");if(3===t.length){const[e,a]=t,r=parseInt(e),i=parseInt(a);if(r>=1&&r<=31&&i>=1&&i<=12){const e=new Date(s,i-1,r),t=["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"][e.getDay()];return 10===i&&3===r?"Sexta":t}}}if(e.includes("-")&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[t,a,r]=e.split("-"),i=parseInt(r),l=parseInt(a);if(i>=1&&i<=31&&l>=1&&l<=12){const e=new Date(s,l-1,i),t=["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"][e.getDay()];return 10===l&&3===i?"Sexta":t}}return"Dia inválido"}const r=new Date(s,a.getMonth(),a.getDate()),i=["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"][r.getDay()];return 9===a.getMonth()&&3===a.getDate()?"Sexta":i}catch(s){return"Dia inválido"}},p=e=>{if(!e)return!1;const s=e.replace(/\D/g,"");return s.length>=10&&s.length<=11},g=e=>{const s=`https://wa.me/55${e.replace(/\D/g,"")}?text=${encodeURIComponent("Olá! Feliz aniversário! 🎂 Que Deus abençoe seu dia!")}`;window.open(s,"_blank")},u=s.filter(e=>{const s=new Date(e.birthDate),t=new Date;return s.getMonth()===t.getMonth()}),b=t.filter(e=>!(e=>{const s=new Date;let t=e;e.includes("T")&&e.includes("Z")&&(t=e.split("T")[0]);const a=new Date(t);if(isNaN(a.getTime())){if(e&&"string"==typeof e&&e.includes("/")){const t=e.split("/");if(3===t.length){const[e,a]=t,r=parseInt(e),i=parseInt(a);return s.getDate()===r&&s.getMonth()===i-1}}if(e&&"string"==typeof e&&e.includes("-")&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[t,a,r]=e.split("-"),i=parseInt(r),l=parseInt(a);return s.getDate()===i&&s.getMonth()===l-1}return!1}return s.getDate()===a.getDate()&&s.getMonth()===a.getMonth()})(e.birthDate)).sort((e,s)=>{const t=new Date(e.birthDate),a=new Date(s.birthDate);let r=0,i=0;if(isNaN(t.getTime())){if(e.birthDate&&"string"==typeof e.birthDate&&e.birthDate.includes("/")){const s=e.birthDate.split("/");3===s.length&&(r=parseInt(s[0]))}else if(e.birthDate&&"string"==typeof e.birthDate&&e.birthDate.includes("-")&&e.birthDate.match(/^\d{4}-\d{2}-\d{2}$/)){const s=e.birthDate.split("-");r=parseInt(s[2])}}else r=t.getDate();if(isNaN(a.getTime())){if(s.birthDate&&"string"==typeof s.birthDate&&s.birthDate.includes("/")){const e=s.birthDate.split("/");3===e.length&&(i=parseInt(e[0]))}else if(s.birthDate&&"string"==typeof s.birthDate&&s.birthDate.includes("-")&&s.birthDate.match(/^\d{4}-\d{2}-\d{2}$/)){const e=s.birthDate.split("-");i=parseInt(e[2])}}else i=a.getDate();return r-i});if(h)return e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-rose-500 to-rose-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-600/20 to-rose-800/30 opacity-100 group-hover:from-rose-600/30 group-hover:to-rose-800/40 transition-all duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-rose-400/30 to-rose-600/40 rounded-full -translate-y-16 translate-x-16 group-hover:scale-110 transition-transform duration-500"}),e.jsx(r,{className:"flex flex-row items-center justify-between space-y-0 pb-1 lg:pb-2 p-3 lg:p-6 relative z-10",children:e.jsxs(i,{className:"text-xs lg:text-sm font-semibold text-white drop-shadow-md flex items-center gap-1 lg:gap-2",children:[e.jsx(A,{className:"h-3 w-3 lg:h-4 lg:w-4"}),"Aniversariantes do mês"]})}),e.jsx(l,{className:"p-3 lg:p-6 pt-0 lg:pt-0 relative z-10",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-2 lg:h-4 bg-white/20 rounded w-3/4 mb-1 lg:mb-2"}),e.jsx("div",{className:"h-2 lg:h-4 bg-white/20 rounded w-1/2"})]})})]});const j=u.length+b.length;return e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-rose-500 to-rose-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-600/20 to-rose-800/30 opacity-100 group-hover:from-rose-600/30 group-hover:to-rose-800/40 transition-all duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-rose-400/30 to-rose-600/40 rounded-full -translate-y-16 translate-x-16 group-hover:scale-110 transition-transform duration-500"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-1 lg:pb-2 p-3 lg:p-6 relative z-10",children:[e.jsxs(i,{className:"text-xs lg:text-sm font-semibold text-white drop-shadow-md flex items-center gap-1 lg:gap-2",children:[e.jsx(A,{className:"h-3 w-3 lg:h-4 lg:w-4"}),"Aniversariantes do mês"]}),e.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[u.length>0&&e.jsxs(n,{variant:"destructive",className:"text-[10px] lg:text-xs bg-red-500/80 text-white border-0",children:[u.length," hoje"]}),e.jsxs(n,{variant:"outline",className:"text-[10px] lg:text-xs bg-white/20 text-white border-white/30",children:[j," total"]})]})]}),e.jsx(l,{className:"p-3 lg:p-6 pt-0 lg:pt-0 relative z-10",children:0===j?e.jsxs("div",{className:"text-center py-2 lg:py-8",children:[e.jsx(A,{className:"h-6 w-6 lg:h-12 lg:w-12 text-white/60 mx-auto mb-1 lg:mb-3"}),e.jsx("p",{className:"text-[10px] lg:text-sm text-white/70",children:"Nenhum aniversariante este mês"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:hidden",children:e.jsx(q,{className:"h-48",children:e.jsxs("div",{className:"space-y-2 pr-2",children:[u.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-2",children:[e.jsxs("h4",{className:"text-xs font-semibold text-white/90 mb-1 flex items-center gap-1",children:[e.jsx(A,{className:"h-3 w-3"}),"Aniversariantes de Hoje"]}),e.jsx("div",{className:"space-y-1",children:u.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/20 backdrop-blur-sm border border-white/30",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsxs(z,{className:"h-8 w-8",children:[e.jsx(M,{src:s.profilePhoto}),e.jsx(P,{className:"text-xs font-medium bg-white/20 text-white",children:s.name.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-semibold truncate text-white",children:s.name}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-white/70",children:[e.jsx(o,{className:"h-2 w-2"}),e.jsx("span",{children:x(s.birthDate)}),e.jsx("span",{children:"•"}),e.jsx("span",{children:m(s.birthDate)}),s.church&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{className:"text-white/50 truncate",children:s.church})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{variant:"destructive",className:"text-[10px] px-1 py-0 bg-red-500/80 text-white border-0",children:"Hoje!"}),p(s.phone)&&e.jsx(d,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-white hover:text-white hover:bg-white/20",onClick:()=>g(s.phone),title:"Enviar mensagem no WhatsApp",children:e.jsx(c,{className:"h-3 w-3"})})]})]},s.id))})]}),b.length>0&&e.jsx("div",{className:"border-t border-white/30 my-2"})]}),b.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-white/80 mb-1",children:"Outros aniversariantes do mês"}),e.jsx("div",{className:"space-y-1",children:b.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsxs(z,{className:"h-8 w-8",children:[e.jsx(M,{src:s.profilePhoto}),e.jsx(P,{className:"text-xs font-medium bg-white/20 text-white",children:s.name.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium truncate text-white/90",children:s.name}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-white/60",children:[e.jsx(o,{className:"h-2 w-2"}),e.jsx("span",{children:x(s.birthDate)}),e.jsx("span",{children:"•"}),e.jsx("span",{children:m(s.birthDate)}),s.church&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{className:"text-white/50 truncate",children:s.church})]})]})]})]}),p(s.phone)&&e.jsx(d,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-white hover:text-white hover:bg-white/20",onClick:()=>g(s.phone),title:"Enviar mensagem no WhatsApp",children:e.jsx(c,{className:"h-3 w-3"})})]},s.id))})]})]})})}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(q,{className:"h-96",children:e.jsxs("div",{className:"space-y-3 pr-4",children:[u.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-white/90 mb-2 flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),"Aniversariantes de Hoje"]}),e.jsx("div",{className:"space-y-2",children:u.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/20 backdrop-blur-sm border border-white/30 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs(z,{className:"h-12 w-12",children:[e.jsx(M,{src:s.profilePhoto}),e.jsx(P,{className:"text-sm font-medium bg-white/20 text-white",children:s.name.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-semibold truncate text-white",children:s.name}),e.jsx(n,{variant:"destructive",className:"text-xs px-2 py-0 bg-red-500/80 text-white border-0",children:"Hoje!"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/70",children:[e.jsx(o,{className:"h-3 w-3"}),e.jsx("span",{children:x(s.birthDate)}),e.jsx("span",{children:"•"}),e.jsx("span",{children:m(s.birthDate)}),s.church&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{className:"text-white/50",children:s.church})]})]})]})]}),p(s.phone)&&e.jsx(d,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-white hover:text-white hover:bg-white/20",onClick:()=>g(s.phone),title:"Enviar mensagem no WhatsApp",children:e.jsx(c,{className:"h-4 w-4"})})]},s.id))})]}),b.length>0&&e.jsx("div",{className:"border-t border-white/30 my-4"})]}),b.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-white/80 mb-2",children:"Outros aniversariantes do mês"}),e.jsx("div",{className:"space-y-2",children:b.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/10 hover:bg-white/20 transition-colors backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs(z,{className:"h-10 w-10",children:[e.jsx(M,{src:s.profilePhoto}),e.jsx(P,{className:"text-sm font-medium bg-white/20 text-white",children:s.name.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("p",{className:"text-sm font-medium truncate text-white/90",children:s.name})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/60",children:[e.jsx(o,{className:"h-3 w-3"}),e.jsx("span",{children:x(s.birthDate)}),e.jsx("span",{children:"•"}),e.jsx("span",{children:m(s.birthDate)}),s.church&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{className:"text-white/50",children:s.church})]})]})]})]}),p(s.phone)&&e.jsx(d,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-white hover:text-white hover:bg-white/20",onClick:()=>g(s.phone),title:"Enviar mensagem no WhatsApp",children:e.jsx(c,{className:"h-4 w-4"})})]},s.id))})]})]})})})]})})]})},J=({visitsCompleted:s,visitsExpected:t,totalVisits:n=0,visitedPeople:o=0,percentage:c=0,isLoading:m=!1,onRefresh:p})=>{const g=c||(t>0?Math.round(s/t*100):0),u=2*Math.PI*60,b=u,j=u-g/100*u,v=2*Math.PI*15,f=v,w=v-g/100*v;return m?e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-teal-500 to-teal-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-600/20 to-teal-800/30 opacity-100 group-hover:from-teal-600/30 group-hover:to-teal-800/40 transition-all duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-teal-400/30 to-teal-600/40 rounded-full -translate-y-16 translate-x-16 group-hover:scale-110 transition-transform duration-500"}),e.jsx(r,{className:"flex flex-row items-center justify-between space-y-0 pb-1 lg:pb-2 p-3 lg:p-6 relative z-10",children:e.jsxs(i,{className:"text-xs lg:text-sm font-semibold text-white drop-shadow-md flex items-center gap-1 lg:gap-2",children:[e.jsx(h,{className:"h-3 w-3 lg:h-4 lg:w-4"}),"Visitômetro"]})}),e.jsx(l,{className:"p-3 lg:p-6 pt-0 lg:pt-0 relative z-10",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 lg:h-32 bg-white/20 rounded-full mb-2 lg:mb-4"}),e.jsx("div",{className:"h-2 lg:h-4 bg-white/20 rounded w-3/4 mb-1 lg:mb-2"}),e.jsx("div",{className:"h-2 lg:h-4 bg-white/20 rounded w-1/2"})]})})]}):e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-teal-500 to-teal-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-600/20 to-teal-800/30 opacity-100 group-hover:from-teal-600/30 group-hover:to-teal-800/40 transition-all duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-teal-400/30 to-teal-600/40 rounded-full -translate-y-16 translate-x-16 group-hover:scale-110 transition-transform duration-500"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-1 lg:pb-2 p-3 lg:p-6 relative z-10",children:[e.jsxs(i,{className:"text-xs lg:text-sm font-semibold text-white drop-shadow-md flex items-center gap-1 lg:gap-2",children:[e.jsx(h,{className:"h-3 w-3 lg:h-4 lg:w-4"}),"Visitômetro"]}),e.jsx("div",{className:"flex items-center gap-1 lg:gap-2",children:p&&e.jsx(d,{size:"sm",variant:"ghost",onClick:p,className:"h-5 w-5 lg:h-6 lg:w-6 p-0 text-white hover:bg-white/20",title:"Atualizar visitômetro",children:e.jsx(x,{className:"h-2 w-2 lg:h-3 lg:w-3"})})})]}),e.jsxs(l,{className:"h-auto lg:h-96 flex flex-col justify-center p-3 lg:p-6 pt-0 lg:pt-0 relative z-10",children:[e.jsx("div",{className:"lg:hidden",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"relative w-10 h-10",children:e.jsxs("svg",{width:"100%",height:"100%",className:"transform -rotate-90",viewBox:"0 0 40 40",children:[e.jsx("circle",{cx:"20",cy:"20",r:"15",stroke:"rgba(255,255,255,0.3)",strokeWidth:"2",fill:"none"}),e.jsx("circle",{cx:"20",cy:"20",r:"15",stroke:"white",strokeWidth:"2",fill:"none",strokeDasharray:f,strokeDashoffset:w,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-in-out, stroke 0.3s ease-in-out"}}),e.jsxs("text",{x:"20",y:"20",textAnchor:"middle",dominantBaseline:"middle",className:"text-[10px] font-bold fill-white",style:{transform:"rotate(90deg)",transformOrigin:"20px 20px"},children:[g,"%"]})]})}),e.jsxs("div",{className:"flex-1 ml-2 text-left space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(h,{className:"h-3 w-3 text-white/80"}),e.jsxs("span",{className:"text-[10px] font-medium text-white/80",children:["Pessoas visitadas: ",e.jsxs("span",{className:"font-bold text-white",children:[o||s,"/",t]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"h-3 w-3 text-white/80"}),e.jsxs("span",{className:"text-[10px] font-medium text-white/80",children:["Total de visitas realizadas: ",e.jsx("span",{className:"font-bold text-white",children:n})]})]})]})]})}),e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"relative",children:e.jsxs("svg",{width:"140",height:"140",className:"transform -rotate-90",children:[e.jsx("circle",{cx:"70",cy:"70",r:60,stroke:"rgba(255,255,255,0.3)",strokeWidth:8,fill:"none"}),e.jsx("circle",{cx:"70",cy:"70",r:60,stroke:"white",strokeWidth:8,fill:"none",strokeDasharray:b,strokeDashoffset:j,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-in-out, stroke 0.3s ease-in-out"}}),e.jsxs("g",{stroke:"rgba(255,255,255,0.6)",strokeWidth:"2",children:[e.jsx("line",{x1:"70",y1:"10",x2:"70",y2:"20"}),e.jsx("line",{x1:"110",y1:"30",x2:"105",y2:"35"}),e.jsx("line",{x1:"130",y1:"70",x2:"120",y2:"70"}),e.jsx("line",{x1:"110",y1:"110",x2:"105",y2:"105"}),e.jsx("line",{x1:"70",y1:"130",x2:"70",y2:"120"})]}),e.jsxs("text",{x:"70",y:"70",textAnchor:"middle",dominantBaseline:"middle",className:"text-2xl font-bold fill-white",style:{transform:"rotate(90deg)",transformOrigin:"70px 70px"},children:[g,"%"]})]})}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(h,{className:"h-4 w-4 text-white/80"}),e.jsx("span",{className:"text-sm font-medium text-white/80",children:"Pessoas Visitadas"})]}),e.jsxs("div",{className:"text-2xl font-bold text-white drop-shadow-lg",children:[o||s," / ",t]}),e.jsx("p",{className:"text-xs text-white/70",children:t-(o||s)>0?t-(o||s)+" pessoas pendentes":"Todas as pessoas foram visitadas!"})]}),e.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-white/30 to-transparent"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-white/80"}),e.jsx("span",{className:"text-sm font-medium text-white/80",children:"Visitas Realizadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-white drop-shadow-lg",children:n}),e.jsx("p",{className:"text-xs text-white/70",children:n>(o||s)?`Média de ${(n/(o||s)).toFixed(1)} visitas por pessoa`:"Uma visita por pessoa"})]})]})]})})]})]})},G=({userData:s,showDetails:t=!1})=>{const n=m(),o=s||{engajamento:"Alto",classificacao:"Recorrente",dizimista:"Recorrente (8-12 meses)",ofertante:"Sazonal (4-7 meses)",tempoBatismo:15,cargos:["Líder de Jovens","Músico"],departamentos:["Jovens","Música","Evangelismo"],nomeUnidade:"Unidade Central",temLicao:!0,comunhao:12,missao:10,estudoBiblico:8,totalPresenca:25,batizouAlguem:!0,discipuladoPosBatismo:5,cpfValido:!0,camposVaziosACMS:!1};let c;if(s&&void 0!==s.actualPoints)c=s.actualPoints;else{c=U.calculateDetailedPoints(o).total}F(c);const h=$(c),x=K(c),u=Q(c);return e.jsxs(a,{onClick:()=>n("/gamification"),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||n("/gamification")},className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Minha Pontuação"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-yellow-500 to-purple-600 text-white shadow-lg",children:e.jsx(p,{className:"h-4 w-4"})})]}),e.jsx(l,{className:"relative z-10 flex-1",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Pontos atuais:"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-purple-800 bg-clip-text text-transparent",children:c})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Montanha atual:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{iconType:O(c),className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-semibold text-gray-800",children:B(c)})]})]}),h&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Para ",h.mount]}),e.jsxs("span",{children:[Math.round(x),"%"]})]}),e.jsx(g,{value:x,className:"h-2"}),e.jsx("div",{className:"text-center text-xs text-gray-500",children:u>0?`${u} pts restantes`:"Monte máximo!"})]})]})}),e.jsx("div",{className:"px-6 pb-4 mt-auto",children:e.jsx(d,{variant:"link",size:"sm",className:"p-0 text-blue-700",onClick:()=>n("/gamification"),children:"Toque para ver detalhes"})})]})},Z=[{score:1,emoji:"🍃",label:"Distante",verse:"Tenho, porém, contra ti que deixaste o teu primeiro amor.",reference:"Apocalipse 2:4",description:"Quase não oro, minha Bíblia está fechada, e percebo que outras coisas têm ocupado o lugar de Deus na minha vida.",color:"from-gray-400 to-gray-500",bgColor:"bg-gray-50",borderColor:"border-gray-300",textColor:"text-gray-700"},{score:2,emoji:"🔍",label:"Buscando",verse:"Buscai ao Senhor enquanto se pode achar, invocai-o enquanto está perto.",reference:"Isaías 55:6",description:"Sinto falta de Deus, faço algumas orações rápidas, ouço mensagens e até abro a Bíblia, mas ainda sem constância.",color:"from-orange-400 to-orange-500",bgColor:"bg-orange-50",borderColor:"border-orange-300",textColor:"text-orange-700"},{score:3,emoji:"🌱",label:"Enraizando",verse:"Antes, tem o seu prazer na lei do Senhor, e na sua lei medita de dia e de noite.",reference:"Salmo 1:2",description:"Já leio a Bíblia com mais frequência, encontro respostas, começo a praticar e percebo mudanças no meu coração.",color:"from-green-400 to-green-500",bgColor:"bg-green-50",borderColor:"border-green-300",textColor:"text-green-700"},{score:4,emoji:"🌳",label:"Frutificando",verse:"Eu sou a videira, vós as varas; quem permanece em mim, e eu nele, esse dá muito fruto.",reference:"João 15:5",description:"Minha fé começa a transbordar em atitudes, ajudo pessoas, testemunho de Cristo e inspiro outros a segui-lo.",color:"from-blue-400 to-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-300",textColor:"text-blue-700"},{score:5,emoji:"✨",label:"Intimidade",verse:"E andou Enoque com Deus; e já não apareceu, porquanto Deus para si o tomou.",reference:"Gênesis 5:24",description:"Vivo em comunhão diária com Deus, oro constantemente, ouço Sua voz e procuro andar em plena sintonia com Ele.",color:"from-purple-400 to-purple-500",bgColor:"bg-purple-50",borderColor:"border-purple-300",textColor:"text-purple-700"}],X=({isOpen:t,onClose:r})=>{const{user:i}=u(),[o,x]=s.useState({score:0,prayerRequest:"",isPrivate:!1,allowChurchMembers:!1}),[m,p]=s.useState(!1),[g,S]=s.useState(null),{toast:E}=b(),I=e=>{x(s=>({...s,score:e}))},q=e=>{S(g===e?null:e)};s.useEffect(()=>{if(null!==g){const e=setTimeout(()=>{S(null)},5e3);return()=>clearTimeout(e)}},[g]);return e.jsx(j,{open:t,onOpenChange:r,children:e.jsxs(v,{className:"max-w-3xl mx-auto max-h-[90vh] overflow-y-auto",children:[e.jsx(f,{className:"text-center pb-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full",children:e.jsx(w,{className:"h-6 w-6 text-white"})}),e.jsx(N,{className:"h-5 w-5 text-purple-500"})]}),e.jsx(y,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Como está sua vida espiritual hoje?"}),e.jsx("p",{className:"text-gray-600 mt-3",children:"Compartilhe sua situação espiritual e, se desejar, um pedido de oração"})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(k,{className:"text-lg font-semibold text-gray-800 flex items-center justify-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-yellow-500"}),"Selecione sua situação espiritual"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Escolha de 1 a 5 estrelas"})]}),e.jsx("div",{className:"hidden lg:grid lg:grid-cols-5 gap-4",children:Z.map(s=>e.jsx("div",{className:"relative",children:e.jsx(a,{className:"cursor-pointer transition-all duration-300 hover:shadow-lg border-2 "+(o.score===s.score?`ring-2 ring-blue-500 shadow-lg ${s.bgColor} border-blue-300`:"hover:shadow-md border-gray-200"),children:e.jsxs(l,{className:"p-4 text-center",children:[e.jsxs("button",{onClick:()=>I(s.score),className:"w-full space-y-3",children:[e.jsx("div",{className:"text-3xl",children:s.emoji}),e.jsx("div",{className:"flex justify-center space-x-1",children:[...Array(s.score)].map((s,t)=>e.jsx(D,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},t))}),e.jsxs("div",{children:[e.jsx("div",{className:`font-semibold text-sm ${s.textColor}`,children:s.label}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Nível ",s.score]})]})]}),e.jsx("button",{onClick:()=>q(s.score),className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full flex items-center justify-center text-xs hover:scale-110 transition-all duration-200 shadow-lg",title:"Ver explicação",children:e.jsx(W,{className:"h-3 w-3"})})]})})},s.score))}),e.jsx("div",{className:"lg:hidden grid grid-cols-1 md:grid-cols-2 gap-4",children:Z.map(s=>e.jsx("div",{className:"relative",children:e.jsx(a,{className:"cursor-pointer transition-all duration-300 hover:shadow-lg border-2 "+(o.score===s.score?`ring-2 ring-blue-500 shadow-lg ${s.bgColor} border-blue-300`:"hover:shadow-md border-gray-200"),children:e.jsxs(l,{className:"p-4",children:[e.jsxs("button",{onClick:()=>I(s.score),className:"w-full flex items-center space-x-4",children:[e.jsx("div",{className:"text-3xl",children:s.emoji}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:[...Array(s.score)].map((s,t)=>e.jsx(D,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},t))}),e.jsx("div",{className:`font-semibold text-base ${s.textColor}`,children:s.label}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Nível ",s.score]})]})]}),e.jsx("button",{onClick:()=>q(s.score),className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full flex items-center justify-center text-xs hover:scale-110 transition-all duration-200 shadow-lg",title:"Ver explicação",children:e.jsx(W,{className:"h-3 w-3"})})]})})},s.score))}),g&&e.jsxs("div",{className:"mt-4 p-4 bg-white border border-gray-200 rounded-lg shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:Z[g-1].emoji}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-base text-gray-900",children:["Nível ",g," – ",Z[g-1].label]}),e.jsx("div",{className:"flex space-x-1",children:[...Array(g)].map((s,t)=>e.jsx(D,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"},t))})]})]}),e.jsx("button",{onClick:()=>S(null),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(C,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("div",{className:`${Z[g-1].bgColor} rounded-lg p-4 border ${Z[g-1].borderColor}`,children:[e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:Z[g-1].description}),e.jsxs("div",{className:"bg-white rounded-md p-3 border-l-4 border-blue-400",children:[e.jsxs("p",{className:"text-sm text-gray-600 italic mb-1",children:['"',Z[g-1].verse,'"']}),e.jsx("p",{className:"text-sm font-semibold text-blue-600",children:Z[g-1].reference})]})]})]})]}),e.jsx(a,{className:"border-blue-200 bg-gradient-to-r from-blue-50 to-purple-50",children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(k,{htmlFor:"prayerRequest",className:"flex items-center gap-2 text-base font-semibold text-gray-800",children:[e.jsx(c,{className:"h-5 w-5 text-blue-500"}),"Pedido de Oração",e.jsx(n,{variant:"secondary",className:"text-xs",children:"Opcional"})]}),e.jsx(H,{id:"prayerRequest",placeholder:"Compartilhe seu pedido de oração, agradecimento ou testemunho...",value:o.prayerRequest,onChange:e=>x(s=>({...s,prayerRequest:e.target.value})),rows:4,className:"resize-none border-blue-200 focus:border-blue-400 focus:ring-blue-400"}),e.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[o.prayerRequest.length,"/500 caracteres"]})]})})}),e.jsx(a,{className:"border-gray-200",children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(k,{className:"text-base font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-gray-600"}),"Configurações de Privacidade"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[e.jsx(V,{id:"isPrivate",checked:o.isPrivate,onCheckedChange:e=>x(s=>({...s,isPrivate:e})),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(k,{htmlFor:"isPrivate",className:"flex items-center gap-2 text-sm font-medium text-gray-700 cursor-pointer",children:[e.jsx(T,{className:"h-4 w-4 text-red-500"}),"Apenas o pastor verá meus motivos de oração"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Seu pedido será mantido em total confidencialidade"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg transition-colors "+(o.isPrivate?"bg-gray-100 opacity-50":"bg-gray-50 hover:bg-gray-100"),children:[e.jsx(V,{id:"allowChurchMembers",checked:o.allowChurchMembers,onCheckedChange:e=>x(s=>({...s,allowChurchMembers:e})),disabled:o.isPrivate,className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(k,{htmlFor:"allowChurchMembers",className:"flex items-center gap-2 text-sm font-medium text-gray-700 cursor-pointer",children:[e.jsx(h,{className:"h-4 w-4 text-green-500"}),"Permitir que membros da igreja vejam meu pedido"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Outros membros poderão orar por você"})]})]})]})]})})}),e.jsx("div",{className:"pt-2",children:e.jsx(d,{onClick:async()=>{if(0!==o.score){p(!0);try{if(!(await fetch("/api/emotional-checkin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:i?.id,score:o.score,prayerRequest:o.prayerRequest,isPrivate:o.isPrivate,allowChurchMembers:o.allowChurchMembers})})).ok)throw new Error("Erro ao enviar check-in");E({title:"Check-in espiritual enviado!",description:"Obrigado por compartilhar sua situação espiritual conosco."}),r(),x({score:0,prayerRequest:"",isPrivate:!1,allowChurchMembers:!1}),S(null)}catch(e){E({title:"Erro ao enviar check-in",description:"Não foi possível enviar seu check-in espiritual. Tente novamente.",variant:"destructive"})}finally{p(!1)}}else E({title:"Selecione como está espiritualmente",description:"Por favor, escolha uma situação espiritual de 1 a 5 para continuar.",variant:"destructive"})},disabled:m||0===o.score,className:"w-full h-12 text-base font-semibold bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:m?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enviando..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"Enviar Check-in Espiritual"]})})})]})]})})},ee=t.memo(()=>{const{user:n}=u(),c=m(),x=S(),{shouldShowCheckIn:p,markCheckInComplete:j}=(()=>{const[e,t]=s.useState(!1),[a,r]=s.useState(!0);s.useEffect(()=>{i()},[]);const i=async()=>{try{const e=(new Date).toDateString();localStorage.getItem("lastSpiritualCheckIn")!==e&&t(!0)}catch(e){}finally{r(!1)}};return{shouldShowCheckIn:e,isLoading:a,markCheckInComplete:()=>{const e=(new Date).toDateString();localStorage.setItem("lastSpiritualCheckIn",e),t(!1)},resetCheckIn:()=>{localStorage.removeItem("lastSpiritualCheckIn"),t(!0)}}})();b();const[v,f]=s.useState(!1),{data:N,isLoading:y}=I({queryKey:["/api/dashboard/stats",n?.id],queryFn:async()=>{const e=await fetch("/api/dashboard/stats",{headers:{"x-user-id":n?.id?.toString()||""}});if(!e.ok)throw new Error("Failed to fetch dashboard stats");return e.json()},staleTime:0,refetchInterval:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0,enabled:!!n?.id}),{data:k,isLoading:D}=I({queryKey:["/api/users/birthdays",n?.id,n?.role],queryFn:async()=>{const e={};n?.id&&(e["x-user-id"]=n.id.toString(),e["x-user-role"]=n.role);const s=await fetch("/api/users/birthdays",{headers:e});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.json()},enabled:!!n,refetchInterval:3e4,staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0}),{data:C,refetch:T,isLoading:q}=I({queryKey:["/api/dashboard/visits"],queryFn:async()=>{const e=await fetch("/api/dashboard/visits");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:z,isLoading:M}=I({queryKey:["/api/relationships/missionary",n?.id],queryFn:async()=>{if(!n?.id||"missionary"!==n.role)return[];const e=await fetch(`/api/relationships/missionary/${n.id}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!n?.id&&n.role.includes("missionary"),refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:P,isLoading:A}=I({queryKey:["/api/events",n?.role],queryFn:async()=>{if(!n?.role)return[];const e=await fetch(`/api/events?role=${n.role}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!n?.role,refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:L,isLoading:F}=I({queryKey:["/api/emotional-checkins/admin"],queryFn:async()=>{if("admin"!==n?.role)return[];const e=await fetch("/api/emotional-checkins/admin");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()},enabled:"admin"===n?.role,refetchInterval:6e4,staleTime:3e4,gcTime:3e5}),$=s.useMemo(()=>{if(!P||!Array.isArray(P)||0===P.length)return 0;const e=new Date,s=new Date(e.getFullYear(),e.getMonth(),1),t=new Date(e.getFullYear(),e.getMonth()+1,1),a=e=>{if(!e)return null;const s=new Date(e);return isNaN(s.getTime())?null:s};return P.filter(e=>{if(!e||"object"!=typeof e)return!1;const r=e.startDate||e.date,i=e.endDate||e.end_date||e.date;return((e,s,t,a)=>{if(!e&&!s)return!1;const r=e??s??t;return r<a&&(s??e??r)>=t})(a(r),a(i),s,t)}).length},[P]),K=({events:s})=>{if(!s||!Array.isArray(s))return e.jsx("p",{className:"text-xs text-gray-500",children:"Sem próximos eventos"});const t=e=>{if(!e)return null;const s=new Date(e);return isNaN(s.getTime())?null:s},a=[...s].filter(e=>e&&"object"==typeof e).map(e=>{const s=e.startDate||e.date;return{...e,_start:t(s)}}).filter(e=>e._start&&e._start>=new Date).sort((e,s)=>e._start.getTime()-s._start.getTime());if(0===a.length)return e.jsx("p",{className:"text-xs text-gray-500",children:"Sem próximos eventos"});const r=a[0],i=r._start.toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"2-digit"});return e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-blue-100/60 bg-gradient-to-br from-white to-blue-50/40 p-3 shadow-sm",children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-blue-500/10 text-blue-700",children:e.jsx(o,{className:"h-5 w-5"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-blue-700/70",children:"Próximo evento"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 truncate",children:r.title||"Sem título"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[11px] text-gray-500",children:"Data"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:i})]})]})},Q=({birthdays:s})=>{if(D)return e.jsx("p",{className:"text-xs text-gray-500",children:"Carregando..."});if(s.today&&s.today.length>0)return e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-pink-100/60 bg-gradient-to-br from-white to-pink-50/40 p-3 shadow-sm",children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-pink-500/10 text-pink-700",children:e.jsx("span",{className:"text-lg",children:"🎂"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-pink-700/70",children:"Aniversariante do dia"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 truncate",children:s.today[0].name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[11px] text-gray-500",children:"Hoje"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"🎉"})]})]});{const t=Z(s);return t?e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-pink-100/60 bg-gradient-to-br from-white to-pink-50/40 p-3 shadow-sm",children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-pink-500/10 text-pink-700",children:e.jsx("span",{className:"text-lg",children:"🎂"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-pink-700/70",children:"Próximo aniversário"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 truncate",children:t.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[11px] text-gray-500",children:"Data"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:ee(t.nextBirthday)})]})]}):e.jsx("p",{className:"text-xs text-gray-500",children:"Sem aniversários próximos"})}},{data:R,isLoading:O}=I({queryKey:["/api/my-interested",n?.id],queryFn:async()=>{if(!n?.id||"member"!==n.role&&"missionary"!==n.role)return[];const e=await fetch("/api/my-interested",{headers:{"x-user-id":n.id.toString()}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!n?.id&&(n.role.includes("member")||n.role.includes("missionary")),refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:B,isLoading:U}=I({queryKey:["/api/relationships",n?.id],queryFn:async()=>{if(!n?.id||"member"!==n.role&&"missionary"!==n.role)return[];const e=await fetch("/api/relationships");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!n?.id&&(n.role.includes("member")||n.role.includes("missionary")),refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:H,isLoading:V}=I({queryKey:["/api/users",n?.id,"points-details"],queryFn:async()=>{if(!n?.id)return null;const e=await fetch(`/api/users/${n.id}/points-details`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!n?.id,refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),W=s.useMemo(()=>N||{totalUsers:0,totalInterested:0,totalChurches:0,pendingApprovals:0,thisWeekEvents:0,totalEvents:0,approvedUsers:0,totalMembers:0,totalMissionaries:0},[N]);t.useEffect(()=>{let e=!0;const s=s=>{try{if(!e)return;x.invalidateQueries({queryKey:["/api/dashboard/stats"]}),x.invalidateQueries({queryKey:["/api/dashboard/visits"]}),x.invalidateQueries({queryKey:["/api/users"]}),"missionary-assigned"!==s.detail?.type&&"missionary-removed"!==s.detail?.type||(x.invalidateQueries({queryKey:["/api/relationships"]}),x.invalidateQueries({queryKey:["/api/relationships/missionary"]})),"role-reverted"===s.detail?.type&&(x.invalidateQueries({queryKey:["/api/dashboard/stats"]}),x.invalidateQueries({queryKey:["/api/users"]})),"missionary-profile-deactivated"===s.detail?.type&&(x.invalidateQueries({queryKey:["/api/dashboard/stats"]}),x.invalidateQueries({queryKey:["/api/users"]}),x.invalidateQueries({queryKey:["/api/missionary-profiles"]}))}catch(t){}};return window.addEventListener("user-updated",s),window.addEventListener("user-approved",s),window.addEventListener("user-rejected",s),window.addEventListener("user-imported",s),window.addEventListener("relationship-updated",s),window.addEventListener("relationship-created",s),window.addEventListener("relationship-deleted",s),()=>{e=!1,window.removeEventListener("user-updated",s),window.removeEventListener("user-approved",s),window.removeEventListener("user-rejected",s),window.removeEventListener("user-imported",s),window.removeEventListener("relationship-updated",s),window.removeEventListener("relationship-created",s),window.removeEventListener("relationship-deleted",s)}},[x,T]),t.useEffect(()=>{if(!n||!N)return;const e=async()=>{try{await x.invalidateQueries({queryKey:["/api/dashboard/stats"]}),await x.invalidateQueries({queryKey:["/api/users"]})}catch(e){}},s=setInterval(e,3e4),t=()=>{e()};return window.addEventListener("focus",t),()=>{clearInterval(s),window.removeEventListener("focus",t)}},[n,N,x]),t.useEffect(()=>{if("admin"===n?.role&&N){const e=setTimeout(async()=>{try{const e=await fetch("/api/system/check-missionary-profiles",{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){(await e.json()).correctedCount>0&&(x.invalidateQueries({queryKey:["/api/dashboard/stats"]}),x.invalidateQueries({queryKey:["/api/users"]}),x.invalidateQueries({queryKey:["/api/missionary-profiles"]}))}}catch(e){}},2e3);return()=>clearTimeout(e)}},[n?.role,N,x]);const Z=e=>{if(!e||!e.all||!Array.isArray(e.all)||0===e.all.length)return null;const s=new Date,t=s.getFullYear(),a=e.all.filter(e=>e&&"object"==typeof e&&e.birthDate).map(e=>{const a=new Date(e.birthDate),r=new Date(t,a.getMonth(),a.getDate());return r<s&&r.setFullYear(t+1),{...e,nextBirthday:r}});return a.sort((e,s)=>e.nextBirthday-s.nextBirthday),a[0]},ee=e=>`${e.getDate().toString().padStart(2,"0")}/${(e.getMonth()+1).toString().padStart(2,"0")}`;return n?e.jsx(E,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 via-transparent to-blue-400/5"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(59,130,246,0.15),transparent_50%)]"}),e.jsxs("div",{className:"relative space-y-4 lg:space-y-8 p-3 lg:p-6 max-w-7xl mx-auto",children:["admin"===n.role&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-4 lg:space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3 lg:gap-6",children:[e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-blue-500 to-blue-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/20 to-blue-800/30 opacity-100 group-hover:from-blue-600/30 group-hover:to-blue-800/40 transition-all duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-400/30 to-blue-600/40 rounded-full -translate-y-16 translate-x-16 group-hover:scale-110 transition-transform duration-500"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-1 lg:pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm lg:text-base font-semibold text-white drop-shadow-md",children:"Total de Usuários"}),e.jsx("div",{className:"p-1 lg:p-2 rounded-full bg-white/20 backdrop-blur-sm text-white shadow-lg group-hover:bg-white/30 transition-all duration-300",children:e.jsx(h,{className:"h-3 w-3 lg:h-4 lg:w-4"})})]}),e.jsxs(l,{className:"relative z-10 p-3 lg:p-6",children:[e.jsx("div",{className:"text-xl lg:text-4xl font-bold text-white drop-shadow-lg",children:y?"...":W.totalUsers}),e.jsxs("p",{className:"text-xs lg:text-sm text-white/80 mt-1",children:[W.approvedUsers," usuários aprovados"]}),e.jsxs(d,{onClick:()=>c("/users"),className:"mt-2 lg:mt-3 h-7 lg:h-9 px-3 lg:px-4 text-xs lg:text-sm bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white shadow-md hover:shadow-lg transition-all duration-200 border-0",children:[e.jsx(h,{className:"h-2 w-2 lg:h-3 lg:w-3 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Gerenciar Usuários"}),e.jsx("span",{className:"sm:hidden",children:"Usuários"})]})]})]}),e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-red-500 to-red-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-600/20 to-red-800/30 opacity-100 group-hover:from-red-600/30 group-hover:to-red-800/40 transition-all duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-red-400/30 to-red-600/40 rounded-full -translate-y-16 translate-x-16 group-hover:scale-110 transition-transform duration-500"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-1 lg:pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm lg:text-base font-semibold text-white drop-shadow-md",children:"Interessados"}),e.jsx("div",{className:"p-1 lg:p-2 rounded-full bg-white/20 backdrop-blur-sm text-white shadow-lg group-hover:bg-white/30 transition-all duration-300",children:e.jsx(w,{className:"h-3 w-3 lg:h-4 lg:w-4"})})]}),e.jsxs(l,{className:"relative z-10 p-3 lg:p-6",children:[e.jsx("div",{className:"text-xl lg:text-4xl font-bold text-white drop-shadow-lg",children:y?"...":W.totalInterested}),e.jsx("p",{className:"text-xs lg:text-sm text-white/80 mt-1",children:"Pessoas em processo de interesse"})]})]}),e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-orange-500 to-orange-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/20 to-orange-800/30 opacity-100 group-hover:from-orange-600/30 group-hover:to-orange-800/40 transition-all duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-orange-400/30 to-orange-600/40 rounded-full -translate-y-16 translate-x-16 group-hover:scale-110 transition-transform duration-500"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-1 lg:pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm lg:text-base font-semibold text-white drop-shadow-md",children:"Tarefas Pendentes"}),e.jsx("div",{className:"p-1 lg:p-2 rounded-full bg-white/20 backdrop-blur-sm text-white shadow-lg group-hover:bg-white/30 transition-all duration-300",children:e.jsx(_,{className:"h-3 w-3 lg:h-4 lg:w-4"})})]}),e.jsxs(l,{className:"relative z-10 p-3 lg:p-6",children:[e.jsx("div",{className:"text-xl lg:text-4xl font-bold text-white drop-shadow-lg",children:y?"...":W.pendingApprovals}),e.jsx("p",{className:"text-xs lg:text-sm text-white/80 mt-1",children:"Tarefas para fazer"}),e.jsxs(d,{onClick:()=>c("/tasks"),className:"mt-2 lg:mt-3 h-7 lg:h-9 px-3 lg:px-4 text-xs lg:text-sm bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white shadow-md hover:shadow-lg transition-all duration-200 border-0",children:[e.jsx(_,{className:"h-2 w-2 lg:h-3 lg:w-3 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:"Gerenciar Tarefas"}),e.jsx("span",{className:"sm:hidden",children:"Tarefas"})]})]})]}),e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-green-500 to-green-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-600/20 to-green-800/30 opacity-100 group-hover:from-green-600/30 group-hover:to-green-800/40 transition-all duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-400/30 to-green-600/40 rounded-full -translate-y-16 translate-x-16 group-hover:scale-110 transition-transform duration-500"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-1 lg:pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm lg:text-base font-semibold text-white drop-shadow-md",children:"Membros"}),e.jsx("div",{className:"p-1 lg:p-2 rounded-full bg-white/20 backdrop-blur-sm text-white shadow-lg group-hover:bg-white/30 transition-all duration-300",children:e.jsx(h,{className:"h-3 w-3 lg:h-4 lg:w-4"})})]}),e.jsxs(l,{className:"relative z-10 p-3 lg:p-6",children:[e.jsx("div",{className:"text-xl lg:text-4xl font-bold text-white drop-shadow-lg",children:y?"...":W.totalMembers}),e.jsx("p",{className:"text-xs lg:text-sm text-white/80 mt-1",children:"Membros ativos da igreja"})]})]}),e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-purple-500 to-purple-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/20 to-purple-800/30 opacity-100 group-hover:from-purple-600/30 group-hover:to-purple-800/40 transition-all duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-400/30 to-purple-600/40 rounded-full -translate-y-16 translate-x-16 group-hover:scale-110 transition-transform duration-500"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-1 lg:pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm lg:text-base font-semibold text-white drop-shadow-md",children:"Missionários"}),e.jsx("div",{className:"p-1 lg:p-2 rounded-full bg-white/20 backdrop-blur-sm text-white shadow-lg group-hover:bg-white/30 transition-all duration-300",children:e.jsx(w,{className:"h-3 w-3 lg:h-4 lg:w-4"})})]}),e.jsxs(l,{className:"relative z-10 p-3 lg:p-6",children:[e.jsx("div",{className:"text-xl lg:text-4xl font-bold text-white drop-shadow-lg",children:y?"...":W.totalMissionaries}),e.jsx("p",{className:"text-xs lg:text-sm text-white/80 mt-1",children:"Discipuladores ativos"})]})]}),e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-pink-500 to-pink-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-600/20 to-pink-800/30 opacity-100 group-hover:from-pink-600/30 group-hover:to-pink-800/40 transition-all duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-pink-400/30 to-pink-600/40 rounded-full -translate-y-16 translate-x-16 group-hover:scale-110 transition-transform duration-500"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-1 lg:pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm lg:text-base font-semibold text-white drop-shadow-md",children:"Check-ins Espirituais"}),e.jsx("div",{className:"p-1 lg:p-2 rounded-full bg-white/20 backdrop-blur-sm text-white shadow-lg group-hover:bg-white/30 transition-all duration-300",children:e.jsx("span",{className:"text-sm lg:text-base filter brightness-0 invert",children:"🙏"})})]}),e.jsxs(l,{className:"relative z-10 p-3 lg:p-6",children:[e.jsx("div",{className:"text-xl lg:text-4xl font-bold text-white drop-shadow-lg",children:F?"...":L?.length||0}),e.jsx("p",{className:"text-xs lg:text-sm text-white/80 mt-1",children:"Últimos check-ins espirituais dos membros"}),e.jsxs(d,{onClick:()=>f(!0),className:"mt-2 lg:mt-3 h-7 lg:h-9 px-3 lg:px-4 text-xs lg:text-sm bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white shadow-md hover:shadow-lg transition-all duration-200 border-0",children:[e.jsx("span",{className:"mr-1 filter brightness-0 invert",children:"🙏"}),e.jsx("span",{className:"hidden sm:inline",children:"Fazer meu check-in"}),e.jsx("span",{className:"sm:hidden",children:"Check-in"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-8",children:[e.jsx("div",{className:"group",children:e.jsx(J,{visitsCompleted:C?.completed||0,visitsExpected:C?.expected||0,totalVisits:C?.totalVisits||0,visitedPeople:C?.visitedPeople||0,percentage:C?.percentage||0,isLoading:y||q,onRefresh:T})}),e.jsx("div",{className:"group",children:e.jsx(Y,{birthdaysToday:k?.today||[],birthdaysThisMonth:k?.thisMonth||[],isLoading:D})})]})]})}),(n.role.includes("missionary")||n.role.includes("member"))&&(()=>{const s=R&&Array.isArray(R)?R.length:0,t=B&&Array.isArray(B)?B.filter(e=>e&&"object"==typeof e&&e.missionaryId===n?.id&&"active"===e.status):[],h=B&&Array.isArray(B)?B.filter(e=>e&&"object"==typeof e&&e.missionaryId===n?.id&&"pending"===e.status):[],x=t.length+h.length;return e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(a,{onClick:()=>c("/my-interested"),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||c("/my-interested")},className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Interessados"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:e.jsx(w,{className:"h-4 w-4"})})]}),e.jsx(l,{className:"relative z-10 flex-1",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Vinculados a você:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-purple-800 bg-clip-text text-transparent",children:U?"...":x}),e.jsxs("div",{className:"flex items-center gap-1",children:[t.length>0&&e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full",title:"Ativos"}),h.length>0&&e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full",title:"Pendentes"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total da igreja:"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent",children:O?"...":s})]}),s>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Seu alcance"}),e.jsxs("span",{children:[s>0?Math.round(x/s*100):0,"%"]})]}),e.jsx(g,{value:s>0?x/s*100:0,className:"h-2"})]})]})}),e.jsx("div",{className:"px-6 pb-4 mt-auto",children:e.jsx(d,{variant:"link",size:"sm",className:"p-0 text-blue-700",onClick:()=>c("/my-interested"),children:"Toque para ver detalhes"})})]}),e.jsxs(a,{onClick:()=>c("/calendar"),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||c("/calendar")},className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-blue-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Eventos do Mês"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:e.jsx(o,{className:"h-4 w-4"})})]}),e.jsx(l,{className:"relative z-10 flex-1",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Eventos deste mês:"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-green-800 bg-clip-text text-transparent",children:A?"...":$})]}),e.jsx("div",{className:"mt-2",children:e.jsx(K,{events:P||[]})}),e.jsx("div",{className:"mt-2",children:e.jsx(Q,{birthdays:k})})]})}),e.jsx("div",{className:"px-6 pb-4 mt-auto",children:e.jsx(d,{variant:"link",size:"sm",className:"p-0 text-blue-700",onClick:()=>c("/calendar"),children:"Toque para ver detalhes"})})]}),e.jsx(G,{showDetails:!0,userData:{...H?.userData,actualPoints:H?.points}})]})})})(),"interested"===n.role&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-cyan-500 to-cyan-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-600/20 to-cyan-800/30 opacity-100 group-hover:from-cyan-600/30 group-hover:to-cyan-800/40 transition-all duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-cyan-400/30 to-cyan-600/40 rounded-full -translate-y-16 translate-x-16 group-hover:scale-110 transition-transform duration-500"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm lg:text-base font-semibold text-white drop-shadow-md",children:"Eventos Disponíveis"}),e.jsx("div",{className:"p-2 rounded-full bg-white/20 backdrop-blur-sm text-white shadow-lg group-hover:bg-white/30 transition-all duration-300",children:e.jsx(o,{className:"h-4 w-4"})})]}),e.jsx(l,{className:"relative z-10",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm lg:text-base text-white/80",children:"Disponíveis para você:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-white drop-shadow-lg",children:A?"...":P?.length||0}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full",title:"Eventos visíveis"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm lg:text-base text-gray-600",children:"Eventos desta semana:"}),e.jsx("span",{className:"text-2xl lg:text-3xl font-bold bg-gradient-to-r from-green-600 to-green-800 bg-clip-text text-transparent",children:y?"...":P?.length||0})]}),W.totalEvents>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Seu acesso"}),e.jsxs("span",{children:[W.totalEvents>0?Math.round((P?.length||0)/W.totalEvents*100):0,"%"]})]}),e.jsx(g,{value:W.totalEvents>0?(P?.length||0)/W.totalEvents*100:0,className:"h-2"})]})]})})]}),e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-indigo-500 to-indigo-700 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/20 to-indigo-800/30 opacity-100 group-hover:from-indigo-600/30 group-hover:to-indigo-800/40 transition-all duration-300"}),e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-indigo-400/30 to-indigo-600/40 rounded-full -translate-y-16 translate-x-16 group-hover:scale-110 transition-transform duration-500"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm lg:text-base font-semibold text-white drop-shadow-md",children:"Total Usuários"}),e.jsx("div",{className:"p-2 rounded-full bg-white/20 backdrop-blur-sm text-white shadow-lg group-hover:bg-white/30 transition-all duration-300",children:e.jsx(h,{className:"h-4 w-4"})})]}),e.jsxs(l,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-white drop-shadow-lg",children:y?"...":W.totalUsers}),e.jsx("p",{className:"text-xs lg:text-sm text-white/80 mt-1",children:"Na comunidade"})]})]})]})}),e.jsx(X,{isOpen:v||p,onClose:()=>{f(!1),j()}})]})]})}):e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-200 via-blue-200 to-slate-300",children:e.jsxs("div",{className:"text-center p-8 rounded-2xl bg-white/90 backdrop-blur-sm shadow-xl border border-white/30",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-amber-600 bg-clip-text text-transparent",children:"Carregando..."}),e.jsx("p",{className:"text-gray-600",children:"Verificando autenticação"})]})})});export{ee as default};
