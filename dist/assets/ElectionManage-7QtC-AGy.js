import{j as e}from"./ui-CM4P41nz.js";import{r as s}from"./vendor-v6ZOr5pf.js";import{l as t,aq as a,f as i,g as o,u as n,k as r,a2 as l,a3 as c,E as d,e as x,C as m,a as h,b as p,ap as v,c as u,I as j,B as f,R as g,N as y,U as N}from"./index-CDIWC20k.js";import{L as b}from"./loader-circle-DqTT5o7P.js";import{S as w}from"./save-DdvKuu3r.js";import{S}from"./square-pen-DodysrEU.js";import{V as z}from"./vote-DxXI5F2f.js";import{P as k}from"./play-Cijhs3LY.js";import{A as V}from"./arrow-right-CXITuM-y.js";import{C}from"./clock-DlVbwFVt.js";import"./charts-56rtB2he.js";
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=t("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),E=t("ChartColumnIncreasing",[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),I=t("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),M=t("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),F=t("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),A=t("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function O(){const{configId:t}=a(),{user:O}=i(),{toast:T}=o(),$=n(),[q,H]=s.useState(null),[B,J]=s.useState("nomination"),[L,R]=s.useState(!0),[D,W]=s.useState(!0),[G,_]=s.useState(!1),[Z,K]=s.useState(0),[Q,U]=s.useState(null),[Y,X]=s.useState(1),[ee,se]=s.useState(!1),[te,ae]=s.useState("1"),[ie,oe]=s.useState("horizontal"),[ne,re]=s.useState(!1),[le,ce]=s.useState(100);s.useEffect(()=>{if(t&&(de(),D)){const e=setInterval(de,2e3);return()=>clearInterval(e)}},[t,D]);const de=async(e=!1)=>{try{const s=Date.now();if(!e&&Q&&s-Q.timestamp<1500)return H(Q.data),void K(Q.timestamp);const a=await fetch(`/api/elections/dashboard/${t}`,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(a.ok){const e=await a.json();if(H(e),U({data:e,timestamp:s}),K(s),e.currentPosition>=e.totalPositions)J("completed");else if(e.election?.current_phase)J(e.election.current_phase);else{const s=e.positions[e.currentPosition];s&&s.results.some(e=>e.votes>0)?J("voting"):(s&&s.totalNominations,J("nomination"))}}else 404===a.status&&(T({title:"Nenhuma eleição ativa",description:"Não há eleição ativa para esta configuração.",variant:"destructive"}),$("/election-dashboard"))}catch(s){}finally{R(!1)}},xe=()=>q?(q.currentPosition+1)/q.totalPositions*100:0,me=()=>q?q.votedVoters/q.totalVoters*100:0,he=e=>{if(!ne)return e;return`${({"text-xs":12,"text-sm":14,"text-base":16,"text-lg":18,"text-xl":20,"text-2xl":24,"text-3xl":30,"text-4xl":36}[e]||16)*le/100}px`};if(s.useEffect(()=>{const e=()=>{re(!!document.fullscreenElement),document.fullscreenElement||ce(100)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]),L)return e.jsx(r,{children:e.jsxs("div",{className:"p-4 flex items-center justify-center min-h-[50vh]",children:[e.jsx(b,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Carregando eleição..."})]})});if(!q)return e.jsx(r,{children:e.jsx("div",{className:"p-4 text-center",children:e.jsx(l,{children:e.jsx(c,{children:"Não foi possível carregar os dados da eleição."})})})});const pe=!q||q.currentPosition>=q.positions.length?null:q.positions[q.currentPosition],ve=q.currentPosition>=q.totalPositions-1;return e.jsx(r,{children:e.jsx("div",{className:(ne?"h-screen overflow-hidden":"")+" transition-all duration-300",style:ne?{fontSize:`${le}%`}:{},children:e.jsxs("div",{className:""+(ne?"p-2 space-y-2 h-full":"p-4 space-y-6"),children:[e.jsxs("div",{className:"flex items-center justify-between "+(ne?"mb-2":""),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:(ne?"h-6 w-6":"h-8 w-8")+" text-purple-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold",style:{fontSize:ne?he("text-xl"):void 0},children:"Gerenciar Eleição"}),e.jsx("p",{className:"text-muted-foreground",style:{fontSize:ne?he("text-sm"):void 0},children:q.election.church_name})]})]}),e.jsxs("div",{className:"flex gap-2",children:[ne&&e.jsxs(e.Fragment,{children:[e.jsx(x,{variant:"outline",size:"sm",onClick:()=>{ce(e=>Math.max(e-10,70))},className:"h-8 px-2",disabled:le<=70,children:e.jsx(A,{className:"h-4 w-4"})}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>{ce(e=>Math.min(e+10,150))},className:"h-8 px-2",disabled:le>=150,children:e.jsx(F,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center px-2 text-sm text-muted-foreground",children:[le,"%"]})]}),e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>{document.fullscreenElement?(document.exitFullscreen(),re(!1),ce(100)):(document.documentElement.requestFullscreen(),re(!0))},className:ne?"h-8 px-2":"",children:[ne?e.jsx(M,{className:"h-4 w-4"}):e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{className:ne?"hidden":"ml-2",children:ne?"Sair":"Tela Cheia"})]}),e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>W(!D),className:ne?"h-8 px-2":"",children:[e.jsx(b,{className:`h-4 w-4 ${ne?"":"mr-2"} ${D?"animate-spin":""}`}),e.jsx("span",{className:ne?"hidden":"",children:D?"Pausar":"Atualizar"})]})]})]}),e.jsxs(m,{className:ne?"mb-2":"",children:[e.jsx(h,{className:ne?"pb-2":"",children:e.jsxs(p,{className:"flex items-center gap-2",style:{fontSize:ne?he("text-base"):void 0},children:[e.jsx(v,{className:"h-5 w-5"}),"Progresso da Eleição"]})}),e.jsxs(u,{className:""+(ne?"space-y-2":"space-y-4"),children:[e.jsxs("div",{className:"grid "+(ne?"grid-cols-4 gap-2":"grid-cols-2 gap-4"),children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-blue-600",style:{fontSize:ne?he("text-xl"):void 0},children:[q.currentPosition+1," / ",q.totalPositions]}),e.jsx("div",{className:"text-muted-foreground",style:{fontSize:ne?he("text-sm"):void 0},children:"Cargos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-green-600",style:{fontSize:ne?he("text-xl"):void 0},children:[q.votedVoters," / ",q.totalVoters]}),e.jsx("div",{className:"text-muted-foreground",style:{fontSize:ne?he("text-sm"):void 0},children:"Votantes"})]}),ne&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-purple-600",style:{fontSize:he("text-xl")},children:[Math.round(xe()),"%"]}),e.jsx("div",{className:"text-muted-foreground",style:{fontSize:he("text-sm")},children:"Progresso"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-orange-600",style:{fontSize:he("text-xl")},children:[Math.round(me()),"%"]}),e.jsx("div",{className:"text-muted-foreground",style:{fontSize:he("text-sm")},children:"Participação"})]})]})]}),!ne&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Progresso Geral"}),e.jsxs("span",{children:[Math.round(xe()),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-500",style:{width:`${xe()}%`}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Participação"}),e.jsxs("span",{children:[Math.round(me()),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:"bg-green-600 h-4 rounded-full transition-all duration-500",style:{width:`${me()}%`}})})]})]})]})]}),"nomination"===B&&e.jsx(m,{className:"border-purple-200 bg-purple-50 "+(ne?"mb-2":""),children:e.jsx(u,{className:ne?"p-2":"p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4 "+(ne?"flex-col gap-2":""),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"font-medium text-purple-900",style:{fontSize:ne?he("text-sm"):void 0},children:ne?"Máx. indicações:":"Máximo de indicações por votante:"})]}),ee?e.jsxs("div",{className:"flex items-center gap-2 "+(ne?"w-full justify-center":""),children:[e.jsx(j,{type:"number",min:"1",value:te,onChange:e=>ae(e.target.value),className:(ne?"w-16 h-6 text-xs":"w-20 h-8")+" text-center",autoFocus:!0}),e.jsxs(x,{size:"sm",onClick:async()=>{const e=parseInt(te);if(isNaN(e)||e<1)T({title:"Valor inválido",description:"O número deve ser maior que 0.",variant:"destructive"});else try{if(!(await fetch("/api/elections/set-max-nominations",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":O?.id?.toString()||""},body:JSON.stringify({configId:parseInt(t),maxNominations:e})})).ok)throw new Error("Erro ao salvar");X(e),se(!1),T({title:"Configuração atualizada",description:`Cada votante pode fazer até ${e} indicação(ões).`})}catch(s){T({title:"Erro",description:"Não foi possível salvar a configuração.",variant:"destructive"})}},className:(ne?"h-8 px-3 text-sm":"h-8")+" bg-purple-600 hover:bg-purple-700",children:[e.jsx(w,{className:"h-3 w-3 mr-1"}),ne?"":"Salvar"]}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>{se(!1),ae(Y.toString())},className:ne?"h-8 px-3 text-sm":"h-8",children:ne?"":"Cancelar"})]}):e.jsxs("div",{className:"flex items-center gap-2 "+(ne?"w-full justify-center":""),children:[e.jsx(f,{variant:"secondary",className:"px-2 py-1 font-bold",style:{fontSize:ne?he("text-sm"):void 0},children:Y}),e.jsxs(x,{size:"sm",variant:"outline",onClick:()=>{se(!0),ae(Y.toString())},className:ne?"h-8 px-3 text-sm":"h-8",children:[e.jsx(S,{className:"h-3 w-3 mr-1"}),ne?"":"Editar"]})]})]})})}),pe&&e.jsxs(m,{className:""+(ne?"flex-1 flex flex-col":""),children:[e.jsx(h,{className:ne?"pb-2":"",children:e.jsxs(p,{className:"flex items-center gap-2",style:{fontSize:ne?he("text-base"):void 0},children:[e.jsx(z,{className:"h-5 w-5"}),pe.position,e.jsxs(f,{variant:"completed"===B?"default":"secondary",style:{fontSize:ne?he("text-sm"):void 0},children:["nomination"===B&&"Indicação","voting"===B&&"Votação","completed"===B&&"Concluído"]})]})}),e.jsxs(u,{className:""+(ne?"space-y-2 flex-1 overflow-auto":"space-y-4"),children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between "+(ne?"mb-2":"mb-4"),children:[e.jsx("h4",{className:"font-semibold",style:{fontSize:ne?he("text-base"):void 0},children:"Candidatos Indicados"}),"voting"===B&&pe.results.length>0&&!ne&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(x,{size:"sm",variant:"horizontal"===ie?"default":"outline",onClick:()=>oe("horizontal"),className:"h-8",children:[e.jsx(P,{className:"h-4 w-4 mr-1"}),"Barras Laterais"]}),e.jsxs(x,{size:"sm",variant:"vertical"===ie?"default":"outline",onClick:()=>oe("vertical"),className:"h-8",children:[e.jsx(E,{className:"h-4 w-4 mr-1"}),"Gráfico de Pé"]})]})]}),0===pe.results.length?e.jsx("p",{className:"text-muted-foreground text-center py-2",style:{fontSize:ne?he("text-base"):void 0},children:"Aguardando indicações..."}):"voting"!==B||"vertical"!==ie||ne?e.jsxs("div",{className:""+(ne?"space-y-2":"space-y-3"),children:[pe.results.sort((e,s)=>"voting"===B?s.votes-e.votes:e.name.localeCompare(s.name)).map(s=>e.jsxs("div",{className:(ne?"p-2":"p-4")+" bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between "+(ne?"mb-1":"mb-2"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:(ne?"w-7 h-7":"w-8 h-8")+" bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:s.nominations})}),e.jsx("span",{className:"font-medium",style:{fontSize:ne?he("text-base"):void 0},children:s.name})]}),"voting"===B&&e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-green-600",style:{fontSize:ne?he("text-xl"):void 0},children:s.votes}),e.jsxs("div",{className:"text-muted-foreground",style:{fontSize:ne?he("text-sm"):void 0},children:[s.percentage.toFixed(1),"%"]})]})]}),"voting"===B&&e.jsxs("div",{className:""+(ne?"space-y-1":"space-y-2"),children:[e.jsxs("div",{className:"flex justify-between",style:{fontSize:ne?he("text-sm"):void 0},children:[e.jsx("span",{children:"Votos"}),e.jsxs("span",{children:[s.votes," / ",q.totalVoters]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full "+(ne?"h-2":"h-4"),children:e.jsx("div",{className:`bg-green-500 ${ne?"h-2":"h-4"} rounded-full transition-all duration-500`,style:{width:`${s.percentage}%`}})})]})]},s.id)),"voting"===B&&q.totalVoters-q.votedVoters>0&&e.jsxs("div",{className:"text-muted-foreground text-center bg-amber-50 rounded-lg border border-amber-200 py-1",style:{fontSize:ne?he("text-sm"):void 0},children:[q.totalVoters-q.votedVoters," votantes ainda não votaram"]})]}):e.jsxs("div",{className:"space-y-4",children:[(()=>{const s=Math.max(...pe.results.map(e=>e.votes),1),t=s>0?s/s*300+20:20,a=Math.max(400,t+160);return e.jsx("div",{className:"chart-container",style:{display:"flex",alignItems:"end",justifyContent:"space-around",gap:"16px",height:`${a}px`,padding:"20px",backgroundColor:"linear-gradient(to bottom, #f9fafb, #ffffff)",borderRadius:"8px",border:"1px solid #e5e7eb",minHeight:"400px"},children:pe.results.sort((e,s)=>s.votes-e.votes).map((t,a)=>{const i=0===t.votes?20:t.votes/s*300+20,o=["#3b82f6","#10b981","#8b5cf6","#f59e0b","#ec4899"],n=o[a%o.length];return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",flex:1,maxWidth:"120px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"8px",minHeight:"80px",display:"flex",flexDirection:"column",justifyContent:"end"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1f2937",marginBottom:"4px"},children:t.votes}),e.jsxs("div",{style:{fontSize:"12px",color:"#6b7280"},children:[t.percentage.toFixed(1),"%"]})]}),e.jsx("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"end",flex:1},children:e.jsx("div",{style:{width:"100%",backgroundColor:n,borderRadius:"4px 4px 0 0",transition:"all 0.5s ease",display:"flex",alignItems:"end",justifyContent:"center",paddingBottom:"8px",minHeight:0===t.votes?"20px":"auto",height:`${i}px`}})}),e.jsxs("div",{style:{marginTop:"8px",textAlign:"center",width:"100%"},children:[e.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:t.name,children:t.name.split(" ")[0]}),e.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#6b7280",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:t.name,children:t.name.split(" ").slice(1).join(" ")})]})]},t.id)})})})(),e.jsxs("div",{className:"text-center text-muted-foreground",style:{fontSize:ne?he("text-sm"):void 0},children:[e.jsx("strong",{children:q.votedVoters})," de ",e.jsx("strong",{children:q.totalVoters})," votantes já votaram",q.totalVoters-q.votedVoters>0&&` • Faltam ${q.totalVoters-q.votedVoters} votos`]})]})]}),e.jsxs("div",{className:`flex flex-wrap gap-2 ${ne?"pt-2":"pt-4"} border-t`,children:["nomination"===B&&e.jsxs("div",{className:"flex gap-2",children:[pe.totalNominations>0&&e.jsxs(x,{onClick:async()=>{try{const e=await fetch("/api/elections/advance-phase",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":O?.id?.toString()||""},body:JSON.stringify({configId:parseInt(t),phase:"voting"})});if(e.ok)J("voting"),T({title:"Votação iniciada",description:"A fase de votação foi iniciada para este cargo."}),de(!0);else{const s=await e.json();T({title:"Erro",description:s.error||"Não foi possível avançar para a votação.",variant:"destructive"})}}catch(e){T({title:"Erro",description:"Não foi possível avançar para a votação.",variant:"destructive"})}},className:"bg-green-600 hover:bg-green-700 "+(ne?"h-9 px-4 text-base":""),children:[e.jsx(k,{className:""+(ne?"h-4 w-4 mr-1":"h-4 w-4 mr-2")}),ne?"Iniciar":"Iniciar Votação"]}),e.jsxs(x,{onClick:async()=>{try{const e=await fetch("/api/elections/advance-position",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":O?.id?.toString()||""},body:JSON.stringify({configId:parseInt(t),position:q.currentPosition+1})});if(e.ok)T({title:"Cargo pulado",description:"A eleição avançou para o próximo cargo."}),de(!0);else{const s=await e.json();T({title:"Erro",description:s.error||"Não foi possível pular o cargo.",variant:"destructive"})}}catch(e){T({title:"Erro",description:e instanceof Error?e.message:"Não foi possível pular o cargo.",variant:"destructive"})}},variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50 "+(ne?"h-9 px-4 text-base":""),children:[e.jsx(V,{className:""+(ne?"h-4 w-4 mr-1":"h-4 w-4 mr-2")}),ne?ve?"Finalizar":"Próximo":ve?"Finalizar Eleição":"Próximo Cargo"]})]}),"voting"===B&&e.jsxs(e.Fragment,{children:[q.votedVoters>=q.totalVoters&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(x,{onClick:async()=>{try{const e=await fetch("/api/elections/advance-position",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":O?.id?.toString()||""},body:JSON.stringify({configId:parseInt(t),position:q.currentPosition+1})});if(e.ok)J("nomination"),T({title:"Posição avançada",description:"A eleição avançou para o próximo cargo."}),de(!0);else{const s=await e.json();T({title:"Erro",description:s.error||"Não foi possível avançar para o próximo cargo.",variant:"destructive"})}}catch(e){T({title:"Erro",description:"Não foi possível avançar para o próximo cargo.",variant:"destructive"})}},className:"bg-blue-600 hover:bg-blue-700 "+(ne?"h-9 px-4 text-base":""),children:[e.jsx(V,{className:""+(ne?"h-4 w-4 mr-1":"h-4 w-4 mr-2")}),ne?ve?"Finalizar":"Próximo":ve?"Finalizar Eleição":"Próximo Cargo"]}),e.jsxs(x,{onClick:async()=>{try{const e=await fetch("/api/elections/reset-voting",{method:"POST",headers:{"Content-Type":"application/json","x-user-id":O?.id?.toString()||""},body:JSON.stringify({configId:parseInt(t)})});if(e.ok)T({title:"Votação repetida",description:"A votação foi resetada. Os votantes podem votar novamente."}),de(!0);else{const s=await e.json();T({title:"Erro",description:s.error||"Não foi possível repetir a votação.",variant:"destructive"})}}catch(e){T({title:"Erro",description:"Não foi possível repetir a votação.",variant:"destructive"})}},variant:"outline",className:"border-orange-300 text-orange-700 hover:bg-orange-50 "+(ne?"h-9 px-4 text-base":""),children:[e.jsx(g,{className:""+(ne?"h-4 w-4 mr-1":"h-4 w-4 mr-2")}),ne?"Repetir":"Repetir Votação"]})]}),q.votedVoters<q.totalVoters&&e.jsxs("div",{className:"text-amber-600 bg-amber-50 rounded-lg border border-amber-200 p-2",style:{fontSize:ne?he("text-sm"):void 0},children:[e.jsx("strong",{children:"Aguardando votos:"})," ",q.votedVoters," de ",q.totalVoters," votantes já votaram.",!ne&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("span",{className:"text-xs",children:"Todos os votantes devem votar antes de avançar."})]})]})]})]}),"voting"===B&&!ne&&e.jsxs(l,{className:q.votedVoters>=q.totalVoters?"bg-green-50 border-green-200":"bg-amber-50 border-amber-200",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsxs(c,{className:q.votedVoters>=q.totalVoters?"text-green-800":"text-amber-800",children:[e.jsx("strong",{children:"Status da Votação:"})," ",q.votedVoters," de ",q.totalVoters," votantes votaram",q.votedVoters>=q.totalVoters?" - Todos os votos foram computados!":` - Faltam ${q.totalVoters-q.votedVoters} votos`]})]}),pe.winner&&!ne&&e.jsxs(l,{className:"bg-green-50 border-green-200",children:[e.jsx(y,{className:"h-4 w-4 text-green-600"}),e.jsxs(c,{className:"text-green-800",children:[e.jsx("strong",{children:"Eleito:"})," ",pe.winner.name," com ",pe.winner.votes," votos (",Math.round(pe.winner.percentage),"%)"]})]})]})]}),!ne&&e.jsxs(m,{className:"bg-blue-50 border-blue-200",children:[e.jsx(h,{children:e.jsxs(p,{className:"text-blue-800 flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5"}),"Instruções para Votantes"]})}),e.jsx(u,{children:e.jsxs("div",{className:"text-blue-700 space-y-2",children:["nomination"===B&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"1."})," Acesse o link da eleição em seu celular"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"2."})," Selecione quem você indica para ",e.jsx("strong",{children:pe?.position})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3."}),' Clique em "Indicar"']}),e.jsxs("p",{children:[e.jsx("strong",{children:"4."}),' Após as indicações, clique em "Iniciar Votação"']})]}),"voting"===B&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"1."})," Acesse o link da eleição em seu celular"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"2."})," Selecione quem você escolhe para ",e.jsx("strong",{children:pe?.position})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"3."}),' Clique em "Votar"']}),e.jsxs("p",{children:[e.jsx("strong",{children:"4."})," Acompanhe os resultados em tempo real"]})]}),"completed"===B&&e.jsxs("p",{children:[e.jsx("strong",{children:"Eleição finalizada!"})," Todos os cargos foram eleitos com sucesso."]})]})})]}),!ne&&e.jsxs(l,{children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx(c,{children:"Esta tela é atualizada automaticamente a cada 2 segundos para mostrar os resultados em tempo real."})]})]})})})}export{O as default};
