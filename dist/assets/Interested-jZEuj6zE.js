import{j as s}from"./ui-CM4P41nz.js";import{r as e}from"./vendor-v6ZOr5pf.js";import{f as a,k as t,e as l,C as i,c as n,I as d,B as r,z as c,H as o,M as m}from"./index-Dw1aQWh-.js";import{U as x}from"./user-plus-4tIpnYfC.js";import{S as h}from"./search-B96dS4hM.js";import{M as u}from"./map-pin-B1JTfztD.js";import"./charts-56rtB2he.js";const j=[{id:1,name:"Ana Costa",email:"ana@email.com",phone:"(11) 99999-1111",address:"Rua das Flores, 123",status:"new",assignedTo:"",lastContact:"",source:"site"},{id:2,name:"Pedro Lima",email:"pedro@email.com",phone:"(11) 88888-2222",address:"Av. Principal, 456",status:"contacted",assignedTo:"Maria Santos",lastContact:"2024-12-20",source:"whatsapp"},{id:3,name:"Julia Ferreira",email:"julia@email.com",phone:"(11) 77777-3333",address:"Praça Central, 789",status:"studying",assignedTo:"Maria Santos",lastContact:"2024-12-21",source:"indicacao"}],p={new:"bg-yellow-500 text-white",contacted:"bg-blue-500 text-white",studying:"bg-green-500 text-white",baptized:"bg-purple-500 text-white",inactive:"bg-gray-500 text-white"},g={new:"Novo",contacted:"Contatado",studying:"Estudando",baptized:"Batizado",inactive:"Inativo"},N=()=>{const{user:N}=a(),[f,v]=e.useState(j),[w,b]=e.useState(""),[y,C]=e.useState("all"),T=f.filter(s=>{const e=s.name.toLowerCase().includes(w.toLowerCase())||s.email.toLowerCase().includes(w.toLowerCase()),a="all"===y||s.status===y;return e&&a}),z=(s,e)=>{v(a=>a.map(a=>a.id===s?{...a,status:e,lastContact:(new Date).toISOString().split("T")[0]}:a))},S={total:f.length,new:f.filter(s=>"new"===s.status).length,studying:f.filter(s=>"studying"===s.status).length,myAssigned:f.filter(s=>s.assignedTo===N?.name).length};return"admin"===N?.role||"missionary"===N?.role?s.jsx(t,{children:s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Interessados"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie pessoas interessadas"})]}),s.jsxs(l,{className:"bg-gradient-primary hover:opacity-90",children:[s.jsx(x,{className:"w-4 h-4 mr-2"}),"Novo"]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsx(i,{className:"text-center shadow-sm",children:s.jsxs(n,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:S.total}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"})]})}),s.jsx(i,{className:"text-center shadow-sm",children:s.jsxs(n,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:S.new}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Novos"})]})}),s.jsx(i,{className:"text-center shadow-sm",children:s.jsxs(n,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:S.studying}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Estudando"})]})}),s.jsx(i,{className:"text-center shadow-sm",children:s.jsxs(n,{className:"p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:S.myAssigned}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Meus"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(h,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(d,{placeholder:"Buscar interessados...",value:w,onChange:s=>b(s.target.value),className:"pl-10"})]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","new","contacted","studying","baptized"].map(e=>s.jsx(l,{variant:y===e?"default":"outline",size:"sm",onClick:()=>C(e),className:"whitespace-nowrap",children:"all"===e?"Todos":g[e]},e))})]}),s.jsx("div",{className:"space-y-3",children:T.map(e=>s.jsx(i,{className:"shadow-sm",children:s.jsx(n,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-secondary flex items-center justify-center text-secondary-foreground font-semibold",children:e.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold",children:e.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]})]}),s.jsx(r,{className:p[e.status],children:g[e.status]})]}),s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(c,{className:"w-4 h-4"}),e.phone]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u,{className:"w-4 h-4"}),e.address]}),e.assignedTo&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(o,{className:"w-4 h-4"}),"Responsável: ",e.assignedTo]}),e.lastContact&&s.jsxs("div",{children:["Último contato: ",new Date(e.lastContact).toLocaleDateString("pt-BR")]})]}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[s.jsxs(l,{size:"sm",variant:"outline",className:"flex-1",children:[s.jsx(c,{className:"w-4 h-4 mr-2"}),"Ligar"]}),s.jsxs(l,{size:"sm",variant:"outline",className:"flex-1",children:[s.jsx(m,{className:"w-4 h-4 mr-2"}),"WhatsApp"]})]}),!e.assignedTo&&s.jsxs(l,{size:"sm",className:"w-full bg-gradient-primary hover:opacity-90",onClick:()=>{return s=e.id,void v(e=>e.map(e=>e.id===s?{...e,assignedTo:N?.name||""}:e));var s},children:[s.jsx(o,{className:"w-4 h-4 mr-2"}),"Assumir Responsabilidade"]}),e.assignedTo===N?.name&&s.jsxs("div",{className:"flex gap-2",children:["new"===e.status&&s.jsx(l,{size:"sm",className:"flex-1",onClick:()=>z(e.id,"contacted"),children:"Marcar como Contatado"}),"contacted"===e.status&&s.jsx(l,{size:"sm",className:"flex-1",onClick:()=>z(e.id,"studying"),children:"Iniciar Estudo"})]})]})})},e.id))}),0===T.length&&s.jsx(i,{className:"text-center py-8 shadow-sm",children:s.jsxs(n,{children:[s.jsx(x,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"Nenhum interessado encontrado"})]})})]})}):s.jsx(t,{children:s.jsxs("div",{className:"p-4 text-center",children:[s.jsx(x,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Acesso Restrito"}),s.jsx("p",{className:"text-muted-foreground",children:"Apenas administradores e missionários podem gerenciar interessados."})]})})};export{N as default};
