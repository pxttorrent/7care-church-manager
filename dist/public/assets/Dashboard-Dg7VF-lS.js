import{j as e}from"./ui-CM4P41nz.js";import{r as t,R as s}from"./vendor-v6ZOr5pf.js";import{C as a,a as r,b as i,c as n,B as o,d as l,e as d,M as c,U as m,u as x,T as h,P as u,f as p,g,H as b,L as f,h as j,i as v,j as y,V as N,k as w,l as k,S as D,m as C}from"./index-BcdCo1jD.js";import{u as T}from"./useQuery-_t31Z9KZ.js";import{S as E}from"./scroll-area-BvImHywV.js";import{A as S,a as I,b as q}from"./avatar-DAeo7Owp.js";import{C as M}from"./cake-D-tPfgLt.js";import{R as P}from"./refresh-cw-CZFHfx6u.js";import{T as z}from"./trending-up-BZ2ec4M6.js";import{g as A,a as L,b as F,c as $,M as K,d as Q,e as R}from"./mount-icon-bm3W9ro_.js";import{P as B}from"./pointsCalculator-BwBrJ8sV.js";import{D as O,a as U,b as V,c as H}from"./dialog-D6ZKulz4.js";import{T as _}from"./textarea-7RFFimgq.js";import{C as W}from"./checkbox-QiQlwI7b.js";import{C as Y}from"./clock-DFelFvJ_.js";import{P as J}from"./plus-C2dkKquG.js";import{U as Z}from"./user-check-zUWgVa60.js";import"./charts-56rtB2he.js";const G=({birthdaysToday:t,birthdaysThisMonth:s,isLoading:m=!1})=>{const x=e=>{try{if(!e||"string"!=typeof e)return"Data inv√°lida";if(e.includes("-")&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[t,s,a]=e.split("-"),r=parseInt(a),i=parseInt(s);if(r>=1&&r<=31&&i>=1&&i<=12)return`${String(r).padStart(2,"0")}/${String(i).padStart(2,"0")}`}if(e.includes("T")&&e.includes("Z")){const t=e.split("T")[0],[s,a,r]=t.split("-"),i=parseInt(r),n=parseInt(a);if(i>=1&&i<=31&&n>=1&&n<=12)return`${String(i).padStart(2,"0")}/${String(n).padStart(2,"0")}`}const t=new Date(e);if(isNaN(t.getTime())){if(e.includes("/")){const t=e.split("/");if(3===t.length){const[e,s,a]=t,r=parseInt(e),i=parseInt(s);let n=parseInt(a);if(n<100&&(n+=n<50?2e3:1900),r>=1&&r<=31&&i>=1&&i<=12){const e=new Date(n,i-1,r);if(!isNaN(e.getTime()))return e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}}}return"Data inv√°lida"}return new Date(t.getFullYear(),t.getMonth(),t.getDate()).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}catch(t){return"Data inv√°lida"}},h=e=>{try{if(!e||"string"!=typeof e)return"Dia inv√°lido";(new Date).getFullYear();const t=2025;let s=e;if(e.includes("T")&&e.includes("Z")){const s=e.split("T")[0],[a,r,i]=s.split("-"),n=new Date(t,parseInt(r)-1,parseInt(i));return["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"][n.getDay()]}const a=new Date(s);if(isNaN(a.getTime())){if(e.includes("/")){const s=e.split("/");if(3===s.length){const[e,a]=s,r=parseInt(e),i=parseInt(a);if(r>=1&&r<=31&&i>=1&&i<=12){const e=new Date(t,i-1,r);return["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"][e.getDay()]}}}if(e.includes("-")&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[s,a,r]=e.split("-"),i=parseInt(r),n=parseInt(a);if(i>=1&&i<=31&&n>=1&&n<=12){const e=new Date(t,n-1,i);return["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"][e.getDay()]}}return"Dia inv√°lido"}const r=new Date(t,a.getMonth(),a.getDate());return["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"][r.getDay()]}catch(t){return"Dia inv√°lido"}},u=e=>{if(!e)return!1;const t=e.replace(/\D/g,"");return t.length>=10&&t.length<=11},p=e=>{const t=`https://wa.me/55${e.replace(/\D/g,"")}?text=${encodeURIComponent("Ol√°! Feliz anivers√°rio! üéÇ Que Deus aben√ßoe seu dia!")}`;window.open(t,"_blank")},g=t.filter(e=>{const t=new Date(e.birthDate),s=new Date;return t.getMonth()===s.getMonth()}),b=s.filter(e=>!(e=>{const t=new Date;let s=e;e.includes("T")&&e.includes("Z")&&(s=e.split("T")[0]);const a=new Date(s);if(isNaN(a.getTime())){if(e&&"string"==typeof e&&e.includes("/")){const s=e.split("/");if(3===s.length){const[e,a]=s,r=parseInt(e),i=parseInt(a);return t.getDate()===r&&t.getMonth()===i-1}}if(e&&"string"==typeof e&&e.includes("-")&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[s,a,r]=e.split("-"),i=parseInt(r),n=parseInt(a);return t.getDate()===i&&t.getMonth()===n-1}return!1}return t.getDate()===a.getDate()&&t.getMonth()===a.getMonth()})(e.birthDate)).sort((e,t)=>{const s=new Date(e.birthDate),a=new Date(t.birthDate);let r=0,i=0;if(isNaN(s.getTime())){if(e.birthDate&&"string"==typeof e.birthDate&&e.birthDate.includes("/")){const t=e.birthDate.split("/");3===t.length&&(r=parseInt(t[0]))}else if(e.birthDate&&"string"==typeof e.birthDate&&e.birthDate.includes("-")&&e.birthDate.match(/^\d{4}-\d{2}-\d{2}$/)){const t=e.birthDate.split("-");r=parseInt(t[2])}}else r=s.getDate();if(isNaN(a.getTime())){if(t.birthDate&&"string"==typeof t.birthDate&&t.birthDate.includes("/")){const e=t.birthDate.split("/");3===e.length&&(i=parseInt(e[0]))}else if(t.birthDate&&"string"==typeof t.birthDate&&t.birthDate.includes("-")&&t.birthDate.match(/^\d{4}-\d{2}-\d{2}$/)){const e=t.birthDate.split("-");i=parseInt(e[2])}}else i=a.getDate();return r-i});if(m)return e.jsxs(a,{className:"shadow-divine",children:[e.jsx(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsxs(i,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),"Aniversariantes do m√™s"]})}),e.jsx(n,{children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]});const f=g.length+b.length;return e.jsxs(a,{className:"shadow-divine",children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs(i,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),"Aniversariantes do m√™s"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[g.length>0&&e.jsxs(o,{variant:"destructive",className:"text-xs",children:[g.length," hoje"]}),e.jsxs(o,{variant:"outline",className:"text-xs",children:[f," total"]})]})]}),e.jsx(n,{children:0===f?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(M,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum aniversariante este m√™s"})]}):e.jsx(E,{className:"h-96",children:e.jsxs("div",{className:"space-y-3 pr-4",children:[g.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-primary mb-2 flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),"Aniversariantes de Hoje"]}),e.jsx("div",{className:"space-y-2",children:g.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-primary/10 border border-primary/20 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs(S,{className:"h-12 w-12",children:[e.jsx(I,{src:t.profilePhoto}),e.jsx(q,{className:"text-sm font-medium",children:t.name.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-semibold truncate",children:t.name}),e.jsx(o,{variant:"destructive",className:"text-xs px-2 py-0",children:"Hoje!"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(l,{className:"h-3 w-3"}),e.jsx("span",{children:x(t.birthDate)}),e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{children:h(t.birthDate)}),t.church&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{className:"text-muted-foreground/70",children:t.church})]})]})]})]}),u(t.phone)&&e.jsx(d,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-green-600 hover:text-green-700 hover:bg-green-50",onClick:()=>p(t.phone),title:"Enviar mensagem no WhatsApp",children:e.jsx(c,{className:"h-4 w-4"})})]},t.id))})]}),b.length>0&&e.jsx("div",{className:"border-t border-border my-4"})]}),b.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-muted-foreground mb-2",children:"Outros aniversariantes do m√™s"}),e.jsx("div",{className:"space-y-2",children:b.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs(S,{className:"h-10 w-10",children:[e.jsx(I,{src:t.profilePhoto}),e.jsx(q,{className:"text-sm font-medium",children:t.name.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("p",{className:"text-sm font-medium truncate",children:t.name})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(l,{className:"h-3 w-3"}),e.jsx("span",{children:x(t.birthDate)}),e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{children:h(t.birthDate)}),t.church&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{className:"text-muted-foreground/70",children:t.church})]})]})]})]}),u(t.phone)&&e.jsx(d,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-green-600 hover:text-green-700 hover:bg-green-50",onClick:()=>p(t.phone),title:"Enviar mensagem no WhatsApp",children:e.jsx(c,{className:"h-4 w-4"})})]},t.id))})]})]})})})]})},X=({visitsCompleted:t,visitsExpected:s,totalVisits:l=0,visitedPeople:c=0,percentage:x=0,isLoading:h=!1,onRefresh:u})=>{const p=x||(s>0?Math.round(t/s*100):0),g=2*Math.PI*60,b=g,f=g-p/100*g,j=(v=p)>=100?"#10b981":v>=60?"#f59e0b":"#ef4444";var v;return h?e.jsxs(a,{className:"shadow-divine",children:[e.jsx(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsxs(i,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4"}),"Visit√¥metro"]})}),e.jsx(n,{children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded-full mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]}):e.jsxs(a,{className:"shadow-divine",children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs(i,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4"}),"Visit√¥metro"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:(e=>e>=100?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":e>=60?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200")(p),children:(e=>e>=100?"Meta Atingida":e>=60?"Em Progresso":"Atrasado")(p)}),u&&e.jsx(d,{size:"sm",variant:"ghost",onClick:u,className:"h-6 w-6 p-0",title:"Atualizar visit√¥metro",children:e.jsx(P,{className:"h-3 w-3"})})]})]}),e.jsx(n,{className:"h-96 flex flex-col justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"relative",children:e.jsxs("svg",{width:"140",height:"140",className:"transform -rotate-90",children:[e.jsx("circle",{cx:"70",cy:"70",r:60,stroke:"#e5e7eb",strokeWidth:8,fill:"none"}),e.jsx("circle",{cx:"70",cy:"70",r:60,stroke:j,strokeWidth:8,fill:"none",strokeDasharray:b,strokeDashoffset:f,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-in-out, stroke 0.3s ease-in-out"}}),e.jsxs("g",{stroke:"#6b7280",strokeWidth:"2",children:[e.jsx("line",{x1:"70",y1:"10",x2:"70",y2:"20"}),e.jsx("line",{x1:"110",y1:"30",x2:"105",y2:"35"}),e.jsx("line",{x1:"130",y1:"70",x2:"120",y2:"70"}),e.jsx("line",{x1:"110",y1:"110",x2:"105",y2:"105"}),e.jsx("line",{x1:"70",y1:"130",x2:"70",y2:"120"})]}),e.jsxs("text",{x:"70",y:"70",textAnchor:"middle",dominantBaseline:"middle",className:"text-2xl font-bold fill-current",style:{transform:"rotate(90deg)",transformOrigin:"70px 70px"},children:[p,"%"]})]})}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(m,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Pessoas Visitadas"})]}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[c||t," / ",s]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s-(c||t)>0?s-(c||t)+" pessoas pendentes":"Todas as pessoas foram visitadas!"})]}),e.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-emerald-500"}),e.jsx("span",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:"Visitas Realizadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:l}),e.jsx("p",{className:"text-xs text-muted-foreground",children:l>(c||t)?`M√©dia de ${(l/(c||t)).toFixed(1)} visitas por pessoa`:"Uma visita por pessoa"})]})]})]})})]})},ee=({userData:t,showDetails:s=!1})=>{const o=x(),l=t||{engajamento:"Alto",classificacao:"Recorrente",dizimista:"Recorrente (8-12 meses)",ofertante:"Sazonal (4-7 meses)",tempoBatismo:15,cargos:["L√≠der de Jovens","M√∫sico"],departamentos:["Jovens","M√∫sica","Evangelismo"],nomeUnidade:"Unidade Central",temLicao:!0,comunhao:12,missao:10,estudoBiblico:8,totalPresenca:25,batizouAlguem:!0,discipuladoPosBatismo:5,cpfValido:!0,camposVaziosACMS:!1};let c;if(t&&void 0!==t.actualPoints)c=t.actualPoints;else{c=B.calculateDetailedPoints(l).total}A(c);const m=L(c),p=F(c),g=$(c);return e.jsxs(a,{onClick:()=>o("/gamification"),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||o("/gamification")},className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Minha Pontua√ß√£o"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-yellow-500 to-purple-600 text-white shadow-lg",children:e.jsx(h,{className:"h-4 w-4"})})]}),e.jsx(n,{className:"relative z-10 flex-1",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Pontos atuais:"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-purple-800 bg-clip-text text-transparent",children:c})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Montanha atual:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{iconType:Q(c),className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-semibold text-gray-800",children:R(c)})]})]}),m&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Para ",m.mount]}),e.jsxs("span",{children:[Math.round(p),"%"]})]}),e.jsx(u,{value:p,className:"h-2"}),e.jsx("div",{className:"text-center text-xs text-gray-500",children:g>0?`${g} pts restantes`:"Monte m√°ximo!"})]})]})}),e.jsx("div",{className:"px-6 pb-4 mt-auto",children:e.jsx(d,{variant:"link",size:"sm",className:"p-0 text-blue-700",onClick:()=>o("/gamification"),children:"Toque para ver detalhes"})})]})},te=[{score:1,emoji:"üçÉ",label:"Distante",verse:"Tenho, por√©m, contra ti que deixaste o teu primeiro amor.",reference:"Apocalipse 2:4",description:"Quase n√£o oro, minha B√≠blia est√° fechada, e percebo que outras coisas t√™m ocupado o lugar de Deus na minha vida."},{score:2,emoji:"üîç",label:"Buscando",verse:"Buscai ao Senhor enquanto se pode achar, invocai-o enquanto est√° perto.",reference:"Isa√≠as 55:6",description:"Sinto falta de Deus, fa√ßo algumas ora√ß√µes r√°pidas, ou√ßo mensagens e at√© abro a B√≠blia, mas ainda sem const√¢ncia."},{score:3,emoji:"üå±",label:"Enraizando",verse:"Antes, tem o seu prazer na lei do Senhor, e na sua lei medita de dia e de noite.",reference:"Salmo 1:2",description:"J√° leio a B√≠blia com mais frequ√™ncia, encontro respostas, come√ßo a praticar e percebo mudan√ßas no meu cora√ß√£o."},{score:4,emoji:"üå≥",label:"Frutificando",verse:"Eu sou a videira, v√≥s as varas; quem permanece em mim, e eu nele, esse d√° muito fruto.",reference:"Jo√£o 15:5",description:"Minha f√© come√ßa a transbordar em atitudes, ajudo pessoas, testemunho de Cristo e inspiro outros a segui-lo."},{score:5,emoji:"‚ú®",label:"Intimidade",verse:"E andou Enoque com Deus; e j√° n√£o apareceu, porquanto Deus para si o tomou.",reference:"G√™nesis 5:24",description:"Vivo em comunh√£o di√°ria com Deus, oro constantemente, ou√ßo Sua voz e procuro andar em plena sintonia com Ele."}],se=({isOpen:s,onClose:a})=>{const{user:r}=p(),[i,n]=t.useState({score:0,prayerRequest:"",isPrivate:!1,allowChurchMembers:!1}),[o,l]=t.useState(!1),[x,h]=t.useState(null),{toast:u}=g();t.useEffect(()=>{if(null!==x){const e=setTimeout(()=>{h(null)},5e3);return()=>clearTimeout(e)}},[x]);return e.jsx(O,{open:s,onOpenChange:a,children:e.jsxs(U,{className:"max-w-md mx-auto",children:[e.jsxs(V,{children:[e.jsxs(H,{className:"flex items-center gap-2 text-center",children:[e.jsx(b,{className:"h-5 w-5 text-red-500"}),"Como est√° sua vida espiritual hoje?"]}),e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Compartilhe sua situa√ß√£o espiritual e, se desejar, um pedido de ora√ß√£o"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(f,{className:"text-base font-medium",children:"Selecione sua situa√ß√£o espiritual:"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:te.map(t=>e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>{return e=t.score,void n(t=>({...t,score:e}));var e},className:"w-full p-3 rounded-lg border-2 transition-all hover:scale-105 flex flex-col items-center justify-center "+(i.score===t.score?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[e.jsx("div",{className:"text-2xl mb-1",children:t.emoji}),e.jsx("div",{className:"text-xs text-gray-600 text-center leading-tight",children:t.label})]}),e.jsx("button",{onClick:()=>{return e=t.score,void h(x===e?null:e);var e},className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-blue-600 transition-colors",title:"Clique para ver explica√ß√£o",children:"?"}),x===t.score&&e.jsx("div",{className:"absolute z-50 bottom-full left-0 right-0 mb-2 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-64",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-200",children:[e.jsx("div",{className:"text-2xl",children:t.emoji}),e.jsx("div",{children:e.jsxs("h4",{className:"font-semibold text-sm text-gray-900",children:["N√≠vel ",t.score," ‚Äì ",t.label]})})]}),e.jsx("div",{className:"bg-gray-50 rounded-md p-2",children:e.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:t.description})})]})})]},t.score))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(f,{htmlFor:"prayerRequest",className:"flex items-center gap-2",children:[e.jsx(c,{className:"h-4 w-4"}),"Pedido de Ora√ß√£o (opcional)"]}),e.jsx(_,{id:"prayerRequest",placeholder:"Compartilhe seu pedido de ora√ß√£o ou agradecimento...",value:i.prayerRequest,onChange:e=>n(t=>({...t,prayerRequest:e.target.value})),rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(f,{className:"text-base font-medium",children:"Configura√ß√µes de privacidade:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{id:"isPrivate",checked:i.isPrivate,onCheckedChange:e=>n(t=>({...t,isPrivate:e}))}),e.jsxs(f,{htmlFor:"isPrivate",className:"flex items-center gap-2 text-sm",children:[e.jsx(j,{className:"h-4 w-4"}),"Apenas o pastor ver√° meus motivos de ora√ß√£o"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{id:"allowChurchMembers",checked:i.allowChurchMembers,onCheckedChange:e=>n(t=>({...t,allowChurchMembers:e})),disabled:i.isPrivate}),e.jsxs(f,{htmlFor:"allowChurchMembers",className:"flex items-center gap-2 text-sm",children:[e.jsx(m,{className:"h-4 w-4"}),"Permitir que membros da igreja vejam meu pedido"]})]})]}),e.jsx(d,{onClick:async()=>{if(0!==i.score){l(!0);try{if(!(await fetch("/api/emotional-checkin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r?.id,score:i.score,prayerRequest:i.prayerRequest,isPrivate:i.isPrivate,allowChurchMembers:i.allowChurchMembers})})).ok)throw new Error("Erro ao enviar check-in");u({title:"Check-in espiritual enviado!",description:"Obrigado por compartilhar sua situa√ß√£o espiritual conosco."}),a(),n({score:0,prayerRequest:"",isPrivate:!1,allowChurchMembers:!1}),h(null)}catch(e){u({title:"Erro ao enviar check-in",description:"N√£o foi poss√≠vel enviar seu check-in espiritual. Tente novamente.",variant:"destructive"})}finally{l(!1)}}else u({title:"Selecione como est√° espiritualmente",description:"Por favor, escolha uma situa√ß√£o espiritual de 1 a 5 para continuar.",variant:"destructive"})},disabled:o||0===i.score,className:"w-full",children:o?"Enviando...":"Enviar Check-in Espiritual"})]})]})})},ae=s.memo(()=>{const{user:o}=p(),c=x(),h=v(),{shouldShowCheckIn:f,markCheckInComplete:j}=(()=>{const[e,s]=t.useState(!1),[a,r]=t.useState(!0);t.useEffect(()=>{i()},[]);const i=async()=>{try{const e=(new Date).toDateString();localStorage.getItem("lastSpiritualCheckIn")!==e&&s(!0)}catch(e){}finally{r(!1)}};return{shouldShowCheckIn:e,isLoading:a,markCheckInComplete:()=>{const e=(new Date).toDateString();localStorage.setItem("lastSpiritualCheckIn",e),s(!1)},resetCheckIn:()=>{localStorage.removeItem("lastSpiritualCheckIn"),s(!0)}}})();g();const[E,S]=t.useState(!1),{data:I,isLoading:q}=T({queryKey:["/api/dashboard/stats",o?.id],queryFn:async()=>{const e=await fetch("/api/dashboard/stats",{headers:{"x-user-id":o?.id?.toString()||""}});if(!e.ok)throw new Error("Failed to fetch dashboard stats");return e.json()},staleTime:0,refetchInterval:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0,enabled:!!o?.id}),{data:M,isLoading:P}=T({queryKey:["/api/users/birthdays",o?.id,o?.role],queryFn:async()=>{const e={};o?.id&&(e["x-user-id"]=o.id.toString(),e["x-user-role"]=o.role);const t=await fetch("/api/users/birthdays",{headers:e});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return t.json()},enabled:!!o,refetchInterval:3e4,staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0}),{data:A,refetch:L,isLoading:F}=T({queryKey:["/api/dashboard/visits"],queryFn:async()=>{const e=await fetch("/api/dashboard/visits");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:$,isLoading:K}=T({queryKey:["/api/relationships/missionary",o?.id],queryFn:async()=>{if(!o?.id||"missionary"!==o.role)return[];const e=await fetch(`/api/relationships/missionary/${o.id}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!o?.id&&o.role.includes("missionary"),refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:Q,isLoading:R}=T({queryKey:["/api/events",o?.role],queryFn:async()=>{if(!o?.role)return[];const e=await fetch(`/api/events?role=${o.role}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!o?.role,refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:B,isLoading:O}=T({queryKey:["/api/emotional-checkins/admin"],queryFn:async()=>{if("admin"!==o?.role)return[];const e=await fetch("/api/emotional-checkins/admin");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()},enabled:"admin"===o?.role,refetchInterval:6e4,staleTime:3e4,gcTime:3e5}),U=t.useMemo(()=>{if(!Q||!Array.isArray(Q)||0===Q.length)return 0;const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),s=new Date(e.getFullYear(),e.getMonth()+1,1),a=e=>{if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t};return Q.filter(e=>!(!e||"object"!=typeof e)&&((e,t,s,a)=>{if(!e&&!t)return!1;const r=e??t??s;return r<a&&(t??e??r)>=s})(a(e.startDate),a(e.endDate),t,s)).length},[Q]),V=({events:t})=>{if(!t||!Array.isArray(t))return e.jsx("p",{className:"text-xs text-gray-500",children:"Sem pr√≥ximos eventos"});const s=e=>{if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t},a=[...t].filter(e=>e&&"object"==typeof e).map(e=>({...e,_start:s(e.startDate)})).filter(e=>e._start&&e._start>=new Date).sort((e,t)=>e._start.getTime()-t._start.getTime());if(0===a.length)return e.jsx("p",{className:"text-xs text-gray-500",children:"Sem pr√≥ximos eventos"});const r=a[0],i=r._start.toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"2-digit"});return e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-blue-100/60 bg-gradient-to-br from-white to-blue-50/40 p-3 shadow-sm",children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-blue-500/10 text-blue-700",children:e.jsx(l,{className:"h-5 w-5"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-blue-700/70",children:"Pr√≥ximo evento"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 truncate",children:r.title||"Sem t√≠tulo"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[11px] text-gray-500",children:"Data"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:i})]})]})},H=({birthdays:t})=>{if(P)return e.jsx("p",{className:"text-xs text-gray-500",children:"Carregando..."});if(t.today&&t.today.length>0)return e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-pink-100/60 bg-gradient-to-br from-white to-pink-50/40 p-3 shadow-sm",children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-pink-500/10 text-pink-700",children:e.jsx("span",{className:"text-lg",children:"üéÇ"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-pink-700/70",children:"Aniversariante do dia"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 truncate",children:t.today[0].name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[11px] text-gray-500",children:"Hoje"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"üéâ"})]})]});{const s=le(t);return s?e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-pink-100/60 bg-gradient-to-br from-white to-pink-50/40 p-3 shadow-sm",children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-pink-500/10 text-pink-700",children:e.jsx("span",{className:"text-lg",children:"üéÇ"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-pink-700/70",children:"Pr√≥ximo anivers√°rio"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 truncate",children:s.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[11px] text-gray-500",children:"Data"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:de(s.nextBirthday)})]})]}):e.jsx("p",{className:"text-xs text-gray-500",children:"Sem anivers√°rios pr√≥ximos"})}},{data:_,isLoading:W}=T({queryKey:["/api/my-interested",o?.id],queryFn:async()=>{if(!o?.id||"member"!==o.role&&"missionary"!==o.role)return[];const e=await fetch("/api/my-interested",{headers:{"x-user-id":o.id.toString()}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!o?.id&&(o.role.includes("member")||o.role.includes("missionary")),refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:te,isLoading:ae}=T({queryKey:["/api/relationships",o?.id],queryFn:async()=>{if(!o?.id||"member"!==o.role&&"missionary"!==o.role)return[];const e=await fetch("/api/relationships");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!o?.id&&(o.role.includes("member")||o.role.includes("missionary")),refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:re,isLoading:ie}=T({queryKey:["/api/users",o?.id,"points-details"],queryFn:async()=>{if(!o?.id)return null;const e=await fetch(`/api/users/${o.id}/points-details`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!o?.id,refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),ne=t.useMemo(()=>I||{totalUsers:0,totalInterested:0,totalChurches:0,pendingApprovals:0,thisWeekEvents:0,totalEvents:0,approvedUsers:0,totalMembers:0,totalMissionaries:0},[I]),oe=t.useMemo(()=>({admin:[{title:"Gerenciar Usu√°rios",icon:m,action:()=>c("/users"),color:"from-blue-500 to-blue-600",bgColor:"bg-gradient-to-br from-blue-500 to-blue-600"},{title:"Ver Relat√≥rios",icon:w,action:()=>c("/reports"),color:"from-green-500 to-green-600",bgColor:"bg-gradient-to-br from-green-500 to-green-600"},{title:"Configura√ß√µes",icon:y,action:()=>c("/settings"),color:"from-purple-500 to-purple-600",bgColor:"bg-gradient-to-br from-purple-500 to-purple-600"},{title:"Check-in Espiritual",icon:b,action:()=>S(!0),color:"from-pink-500 to-pink-600",bgColor:"bg-gradient-to-br from-pink-500 to-pink-600"}],missionary:[{title:"Meus Interessados",icon:b,action:()=>c("/my-interested"),color:"from-red-500 to-red-600",bgColor:"bg-gradient-to-br from-red-500 to-red-600"},{title:"Nova Reuni√£o",icon:J,action:()=>c("/meetings"),color:"from-blue-500 to-blue-600",bgColor:"bg-gradient-to-br from-blue-500 to-blue-600"},{title:"Enviar Mensagem",icon:y,action:()=>c("/messages"),color:"from-green-500 to-green-600",bgColor:"bg-gradient-to-br from-green-500 to-green-600"},{title:"Check-in Espiritual",icon:z,action:()=>S(!0),color:"from-pink-500 to-pink-600",bgColor:"bg-gradient-to-br from-pink-500 to-pink-600"}],member:[{title:"Ver Agenda",icon:l,action:()=>c("/calendar"),color:"from-blue-500 to-blue-600",bgColor:"bg-gradient-to-br from-blue-500 to-blue-600"},{title:"Chat",icon:y,action:()=>c("/chat"),color:"from-green-500 to-green-600",bgColor:"bg-gradient-to-br from-green-500 to-green-600"},{title:"Videochamadas",icon:N,action:()=>c("/video-calls"),color:"from-purple-500 to-purple-600",bgColor:"bg-gradient-to-br from-purple-500 to-purple-600"},{title:"Check-in Espiritual",icon:b,action:()=>S(!0),color:"from-pink-500 to-pink-600",bgColor:"bg-gradient-to-br from-pink-500 to-pink-600"}],interested:[{title:"Pr√≥ximos Estudos",icon:l,action:()=>c("/calendar"),color:"from-blue-500 to-blue-600",bgColor:"bg-gradient-to-br from-blue-500 to-blue-600"},{title:"Agendar Reuni√£o",icon:Y,action:()=>c("/meetings"),color:"from-green-500 to-green-600",bgColor:"bg-gradient-to-br from-green-500 to-green-600"},{title:"Check-in Espiritual",icon:b,action:()=>S(!0),color:"from-pink-500 to-pink-600",bgColor:"bg-gradient-to-br from-pink-500 to-pink-600"}]}),[c]);s.useEffect(()=>{let e=!0;const t=t=>{try{if(!e)return;h.invalidateQueries({queryKey:["/api/dashboard/stats"]}),h.invalidateQueries({queryKey:["/api/dashboard/visits"]}),h.invalidateQueries({queryKey:["/api/users"]}),"missionary-assigned"!==t.detail?.type&&"missionary-removed"!==t.detail?.type||(h.invalidateQueries({queryKey:["/api/relationships"]}),h.invalidateQueries({queryKey:["/api/relationships/missionary"]})),"role-reverted"===t.detail?.type&&(h.invalidateQueries({queryKey:["/api/dashboard/stats"]}),h.invalidateQueries({queryKey:["/api/users"]})),"missionary-profile-deactivated"===t.detail?.type&&(h.invalidateQueries({queryKey:["/api/dashboard/stats"]}),h.invalidateQueries({queryKey:["/api/users"]}),h.invalidateQueries({queryKey:["/api/missionary-profiles"]}))}catch(s){}};return window.addEventListener("user-updated",t),window.addEventListener("user-approved",t),window.addEventListener("user-rejected",t),window.addEventListener("user-imported",t),window.addEventListener("relationship-updated",t),window.addEventListener("relationship-created",t),window.addEventListener("relationship-deleted",t),()=>{e=!1,window.removeEventListener("user-updated",t),window.removeEventListener("user-approved",t),window.removeEventListener("user-rejected",t),window.removeEventListener("user-imported",t),window.removeEventListener("relationship-updated",t),window.removeEventListener("relationship-created",t),window.removeEventListener("relationship-deleted",t)}},[h,L]),s.useEffect(()=>{if(!o||!I)return;const e=async()=>{try{await h.invalidateQueries({queryKey:["/api/dashboard/stats"]}),await h.invalidateQueries({queryKey:["/api/users"]})}catch(e){}},t=setInterval(e,3e4),s=()=>{e()};return window.addEventListener("focus",s),()=>{clearInterval(t),window.removeEventListener("focus",s)}},[o,I,h]),s.useEffect(()=>{if("admin"===o?.role&&I){const e=setTimeout(async()=>{try{const e=await fetch("/api/system/check-missionary-profiles",{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){(await e.json()).correctedCount>0&&(h.invalidateQueries({queryKey:["/api/dashboard/stats"]}),h.invalidateQueries({queryKey:["/api/users"]}),h.invalidateQueries({queryKey:["/api/missionary-profiles"]}))}}catch(e){}},2e3);return()=>clearTimeout(e)}},[o?.role,I,h]);const le=e=>{if(!e||!e.all||!Array.isArray(e.all)||0===e.all.length)return null;const t=new Date,s=t.getFullYear(),a=e.all.filter(e=>e&&"object"==typeof e&&e.birthDate).map(e=>{const a=new Date(e.birthDate),r=new Date(s,a.getMonth(),a.getDate());return r<t&&r.setFullYear(s+1),{...e,nextBirthday:r}});return a.sort((e,t)=>e.nextBirthday-t.nextBirthday),a[0]},de=e=>`${e.getDate().toString().padStart(2,"0")}/${(e.getMonth()+1).toString().padStart(2,"0")}`;return o?e.jsx(k,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 via-transparent to-blue-400/5"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(59,130,246,0.15),transparent_50%)]"}),e.jsxs("div",{className:"relative space-y-8 p-6 max-w-7xl mx-auto",children:[(()=>{const t=o?.role.includes("missionary")||o?.role.includes("member")?"member":o?.role,s=oe[t]||[];return e.jsxs(a,{className:"relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-purple-500/5 opacity-0 hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"relative z-10",children:[e.jsxs(i,{className:"flex items-center gap-2 text-gray-800",children:[e.jsx(D,{className:"h-5 w-5 text-indigo-600"}),"A√ß√µes R√°pidas"]}),e.jsx(C,{className:"text-gray-600",children:"Acesso r√°pido √†s funcionalidades principais"})]}),e.jsx(n,{className:"relative z-10",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:s.map((t,s)=>e.jsxs(d,{onClick:t.action,className:`h-auto p-6 flex flex-col items-center gap-3 ${t.bgColor} hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl border-0 text-white font-medium`,"data-testid":`quick-action-${t.title.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("div",{className:"p-3 rounded-full bg-white/20 backdrop-blur-sm",children:e.jsx(t.icon,{className:"h-6 w-6"})}),e.jsx("span",{className:"text-sm font-semibold text-center",children:t.title})]},s))})})]})})(),"admin"===o.role&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-blue-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Total de Usu√°rios"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:e.jsx(m,{className:"h-4 w-4"})})]}),e.jsxs(n,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent",children:q?"...":ne.totalUsers}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[ne.approvedUsers," usu√°rios aprovados"]})]})]}),e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-red-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Interessados"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg",children:e.jsx(b,{className:"h-4 w-4"})})]}),e.jsxs(n,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent",children:q?"...":ne.totalInterested}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Pessoas em processo de interesse"})]})]}),e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/5 to-orange-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Aprova√ß√µes Pendentes"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg",children:e.jsx(Z,{className:"h-4 w-4"})})]}),e.jsxs(n,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-orange-800 bg-clip-text text-transparent",children:q?"...":ne.pendingApprovals}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Aguardando aprova√ß√£o"})]})]}),e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-green-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Membros"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg",children:e.jsx(m,{className:"h-4 w-4"})})]}),e.jsxs(n,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-green-800 bg-clip-text text-transparent",children:q?"...":ne.totalMembers}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Membros ativos da igreja"})]})]}),e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Mission√°rios"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:e.jsx(b,{className:"h-4 w-4"})})]}),e.jsxs(n,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-purple-800 bg-clip-text text-transparent",children:q?"...":ne.totalMissionaries}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Discipuladores ativos"})]})]}),e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/5 to-pink-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Check-ins Emocionais"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-pink-500 to-pink-600 text-white shadow-lg",children:e.jsx(b,{className:"h-4 w-4"})})]}),e.jsxs(n,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-pink-800 bg-clip-text text-transparent",children:O?"...":B?.length||0}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"√öltimos check-ins espirituais dos membros"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"group",children:e.jsx(X,{visitsCompleted:A?.completed||0,visitsExpected:A?.expected||0,totalVisits:A?.totalVisits||0,visitedPeople:A?.visitedPeople||0,percentage:A?.percentage||0,isLoading:q||F,onRefresh:L})}),e.jsx("div",{className:"group",children:e.jsx(G,{birthdaysToday:M?.today||[],birthdaysThisMonth:M?.thisMonth||[],isLoading:P})})]})]})}),(o.role.includes("missionary")||o.role.includes("member"))&&(()=>{const t=_&&Array.isArray(_)?_.length:0,s=te&&Array.isArray(te)?te.filter(e=>e&&"object"==typeof e&&e.missionaryId===o?.id&&"active"===e.status):[],m=te&&Array.isArray(te)?te.filter(e=>e&&"object"==typeof e&&e.missionaryId===o?.id&&"pending"===e.status):[],x=s.length+m.length;return e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(a,{onClick:()=>c("/my-interested"),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||c("/my-interested")},className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Interessados"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:e.jsx(b,{className:"h-4 w-4"})})]}),e.jsx(n,{className:"relative z-10 flex-1",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Vinculados a voc√™:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-purple-800 bg-clip-text text-transparent",children:ae?"...":x}),e.jsxs("div",{className:"flex items-center gap-1",children:[s.length>0&&e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full",title:"Ativos"}),m.length>0&&e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full",title:"Pendentes"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total da igreja:"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent",children:W?"...":t})]}),t>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Seu alcance"}),e.jsxs("span",{children:[t>0?Math.round(x/t*100):0,"%"]})]}),e.jsx(u,{value:t>0?x/t*100:0,className:"h-2"})]})]})}),e.jsx("div",{className:"px-6 pb-4 mt-auto",children:e.jsx(d,{variant:"link",size:"sm",className:"p-0 text-blue-700",onClick:()=>c("/my-interested"),children:"Toque para ver detalhes"})})]}),e.jsxs(a,{onClick:()=>c("/calendar"),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||c("/calendar")},className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-blue-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Eventos do M√™s"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:e.jsx(l,{className:"h-4 w-4"})})]}),e.jsx(n,{className:"relative z-10 flex-1",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Eventos deste m√™s:"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-green-800 bg-clip-text text-transparent",children:R?"...":U})]}),e.jsx("div",{className:"mt-2",children:e.jsx(V,{events:Q||[]})}),e.jsx("div",{className:"mt-2",children:e.jsx(H,{birthdays:M})})]})}),e.jsx("div",{className:"px-6 pb-4 mt-auto",children:e.jsx(d,{variant:"link",size:"sm",className:"p-0 text-blue-700",onClick:()=>c("/calendar"),children:"Toque para ver detalhes"})})]}),e.jsx(ee,{showDetails:!0,userData:{...re?.userData,actualPoints:re?.points}})]})})})(),"interested"===o.role&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-blue-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Eventos Dispon√≠veis"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:e.jsx(l,{className:"h-4 w-4"})})]}),e.jsx(n,{className:"relative z-10",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dispon√≠veis para voc√™:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent",children:R?"...":Q?.length||0}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full",title:"Eventos vis√≠veis"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Eventos desta semana:"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-green-800 bg-clip-text text-transparent",children:q?"...":Q?.length||0})]}),ne.totalEvents>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Seu acesso"}),e.jsxs("span",{children:[ne.totalEvents>0?Math.round((Q?.length||0)/ne.totalEvents*100):0,"%"]})]}),e.jsx(u,{value:ne.totalEvents>0?(Q?.length||0)/ne.totalEvents*100:0,className:"h-2"})]})]})})]}),e.jsxs(a,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-indigo-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(i,{className:"text-sm font-semibold text-gray-700",children:"Total Usu√°rios"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-lg",children:e.jsx(m,{className:"h-4 w-4"})})]}),e.jsxs(n,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-800 bg-clip-text text-transparent",children:q?"...":ne.totalUsers}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Na comunidade"})]})]})]})}),e.jsx(se,{isOpen:E||f,onClose:()=>{S(!1),j()}})]})]})}):e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-200 via-blue-200 to-slate-300",children:e.jsxs("div",{className:"text-center p-8 rounded-2xl bg-white/90 backdrop-blur-sm shadow-xl border border-white/30",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-amber-600 bg-clip-text text-transparent",children:"Carregando..."}),e.jsx("p",{className:"text-gray-600",children:"Verificando autentica√ß√£o"})]})})});export{ae as default};
