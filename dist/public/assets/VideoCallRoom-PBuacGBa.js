import{j as e}from"./ui-Dcxc0my-.js";import{r as s}from"./vendor-v6ZOr5pf.js";import{c as t,f as a,U as i,M as r,g as l,B as n,C as d,a as c,b as o,d as m,V as x,G as h,a4 as u,u as j,i as g,e as p,F as f}from"./index-kLixipXW.js";import{V as N,M as v,a as y}from"./video-off-DYSFNxKT.js";import{C as b}from"./clock-CJQtUt-X.js";import"./charts-56rtB2he.js";
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=t("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),k=t("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),z=t("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]),C=t("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),S=[{id:1,name:"Pastor João Silva",isMuted:!1,isVideoOn:!0,isHost:!0,isPresenter:!0},{id:2,name:"Maria Santos",isMuted:!1,isVideoOn:!0,isHost:!1,isPresenter:!1},{id:3,name:"Carlos Oliveira",isMuted:!0,isVideoOn:!1,isHost:!1,isPresenter:!1},{id:4,name:"Ana Costa",isMuted:!1,isVideoOn:!0,isHost:!1,isPresenter:!1}],P=({callId:t="call-123",isHost:u=!1,onEndCall:j,onToggleAudio:g,onToggleVideo:p})=>{const[f,b]=s.useState(S),[w,P]=s.useState(!0),[H,M]=s.useState(!0),[A,O]=s.useState(!1),[R,V]=s.useState(!1),[E,T]=s.useState(!1),[q,I]=s.useState(0);s.useRef(null),s.useEffect(()=>{const e=setInterval(()=>{I(e=>e+1)},1e3);return()=>clearInterval(e)},[]);const L=f.find(e=>e.isHost===u)||f[0],B=f.filter(e=>e.id!==L.id),D=f.length;return e.jsxs("div",{className:"h-screen bg-black text-white flex flex-col",children:[e.jsxs("div",{className:"bg-black/50 p-4 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold","data-testid":"call-title",children:"Reunião da Liderança"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx("span",{"data-testid":"call-duration",children:(e=>{const s=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`})(q)}),e.jsx("span",{children:"•"}),e.jsxs("span",{"data-testid":"participant-count",children:[D," participantes"]})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(a,{variant:"outline",size:"sm",onClick:()=>T(!E),className:"text-white border-white/30 hover:bg-white/10","data-testid":"button-participants",children:[e.jsx(i,{className:"h-4 w-4 mr-1"}),D]}),e.jsx(a,{variant:"outline",size:"sm",onClick:()=>V(!R),className:"text-white border-white/30 hover:bg-white/10","data-testid":"button-chat",children:e.jsx(r,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex-1 flex",children:[e.jsx("div",{className:"flex-1 p-4",children:e.jsxs("div",{className:l("grid gap-4 h-full",1===D?"grid-cols-1":2===D?"grid-cols-2":D<=4?"grid-cols-2 grid-rows-2":"grid-cols-3 grid-rows-2"),children:[e.jsxs("div",{className:l("relative bg-gray-900 rounded-lg overflow-hidden",2===D?"col-span-1":"col-span-2 row-span-2"),children:[H?e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center",children:e.jsx("div",{className:"text-4xl font-bold text-primary",children:L.name.charAt(0)})}):e.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:e.jsx(N,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center gap-2",children:[e.jsxs("span",{className:"text-white font-medium","data-testid":"current-user-name",children:[L.name," ",u&&"(Host)"]}),!w&&e.jsx(v,{className:"h-4 w-4 text-red-500"}),L.isPresenter&&e.jsx(n,{className:"bg-primary text-white text-xs",children:"Apresentando"})]})]}),B.slice(0,5).map(s=>e.jsxs("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden","data-testid":`participant-${s.id}`,children:[s.isVideoOn?e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500/20 to-blue-500/5 flex items-center justify-center",children:e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:s.name.charAt(0)})}):e.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:e.jsx(N,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{className:"absolute bottom-2 left-2 flex items-center gap-1",children:[e.jsx("span",{className:"text-white text-sm font-medium",children:s.name}),s.isMuted&&e.jsx(v,{className:"h-3 w-3 text-red-500"}),s.isHost&&e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"})]})]},s.id))]})}),(R||E)&&e.jsxs("div",{className:"w-80 bg-gray-900 border-l border-gray-700",children:[E&&e.jsxs(d,{className:"m-4 bg-gray-800 border-gray-700",children:[e.jsx(c,{className:"pb-3",children:e.jsxs(o,{className:"text-white",children:["Participantes (",D,")"]})}),e.jsx(m,{className:"space-y-2",children:f.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded hover:bg-gray-700/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary/50 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:s.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white text-sm font-medium",children:s.name}),s.isHost&&e.jsx("div",{className:"text-xs text-yellow-400",children:"Host"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[s.isMuted?e.jsx(v,{className:"h-4 w-4 text-red-500"}):e.jsx(y,{className:"h-4 w-4 text-green-500"}),s.isVideoOn?e.jsx(x,{className:"h-4 w-4 text-green-500"}):e.jsx(N,{className:"h-4 w-4 text-red-500"})]})]},s.id))})]}),R&&e.jsxs(d,{className:"m-4 bg-gray-800 border-gray-700",children:[e.jsx(c,{className:"pb-3",children:e.jsx(o,{className:"text-white",children:"Chat da Reunião"})}),e.jsx(m,{children:e.jsx("div",{className:"text-center text-gray-400 text-sm",children:"Funcionalidade de chat em desenvolvimento"})})]})]})]}),e.jsx("div",{className:"bg-black/50 p-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx(a,{variant:w?"default":"destructive",size:"lg",onClick:()=>{P(e=>!e),g?.()},className:"rounded-full w-12 h-12 p-0","data-testid":"button-toggle-audio",children:w?e.jsx(y,{className:"h-5 w-5"}):e.jsx(v,{className:"h-5 w-5"})}),e.jsx(a,{variant:H?"default":"destructive",size:"lg",onClick:()=>{M(e=>!e),p?.()},className:"rounded-full w-12 h-12 p-0","data-testid":"button-toggle-video",children:H?e.jsx(x,{className:"h-5 w-5"}):e.jsx(N,{className:"h-5 w-5"})}),e.jsx(a,{variant:A?"default":"outline",size:"lg",onClick:()=>{O(e=>!e)},className:"rounded-full w-12 h-12 p-0","data-testid":"button-screen-share",children:e.jsx(k,{className:"h-5 w-5"})}),e.jsx(a,{variant:"outline",size:"lg",className:"rounded-full w-12 h-12 p-0","data-testid":"button-share",children:e.jsx(C,{className:"h-5 w-5"})}),e.jsx(a,{variant:"outline",size:"lg",className:"rounded-full w-12 h-12 p-0","data-testid":"button-settings",children:e.jsx(h,{className:"h-5 w-5"})}),e.jsx(a,{variant:"destructive",size:"lg",onClick:()=>{j?.()},className:"rounded-full w-12 h-12 p-0","data-testid":"button-end-call",children:e.jsx(z,{className:"h-5 w-5"})})]})})]})},H={id:"meeting-123",title:"Reunião da Liderança",description:"Reunião mensal para discussão de assuntos administrativos e planejamento",startTime:"2025-01-26T19:00:00",duration:90,organizer:"Pastor João Silva",participants:8,maxParticipants:15,type:"reuniao",status:"active"};
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function M(){const{meetingId:t}=u(),r=j(),{user:l}=g(),[h,N]=s.useState(H),[v,y]=s.useState(!1);s.useEffect(()=>{t&&N(e=>({...e,id:t}))},[t]);const k=()=>{y(!0)},z=()=>{r("/meetings")};return v?e.jsx(P,{callId:h.id,isHost:"admin"===l?.role||l?.name===h.organizer,onEndCall:z}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/10 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-2xl space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(a,{variant:"outline",size:"sm",onClick:()=>r("/meetings"),"data-testid":"button-back",children:[e.jsx(w,{className:"h-4 w-4 mr-1"}),"Voltar"]}),e.jsx(n,{className:(e=>{switch(e){case"culto":return"bg-purple-100 text-purple-800";case"reuniao":return"bg-blue-100 text-blue-800";case"estudo":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(h.type),children:(e=>{switch(e){case"culto":return"Culto";case"reuniao":return"Reunião";case"estudo":return"Estudo Bíblico";default:return"Outro"}})(h.type)}),e.jsx(n,{variant:"active"===h.status?"default":"secondary","data-testid":"badge-status",children:"active"===h.status?"Ativa":"waiting"===h.status?"Aguardando":"Finalizada"})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5 text-primary"}),h.title]})}),e.jsxs(m,{className:"space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:h.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(p,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:(C=h.startTime,new Date(C).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}))})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(b,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[(e=>new Date(e).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}))(h.startTime)," - ",h.duration," min"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(i,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[h.participants," participantes",h.maxParticipants&&` / ${h.maxParticipants} máx`]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Organizado por:"}),e.jsx("div",{className:"font-medium",children:h.organizer})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"ID da Reunião:"}),e.jsx("div",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:h.id})]})]})]})]})]}),e.jsxs(d,{children:[e.jsx(c,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-5 w-5"}),"Participantes (",h.participants,")"]})}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-primary/5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white text-sm font-semibold",children:h.organizer.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:h.organizer}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Organizador"})]})]}),e.jsx(n,{variant:"outline",className:"text-xs",children:"Host"})]}),Array.from({length:h.participants-1},(s,t)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded hover:bg-muted/50",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:String.fromCharCode(65+t)}),e.jsxs("div",{className:"text-sm",children:["Participante ",t+1]})]},t))]})})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Pronto para participar?"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Clique no botão abaixo para entrar na reunião"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxs(a,{size:"lg",onClick:k,className:"bg-primary hover:bg-primary-dark","data-testid":"button-join-meeting",children:[e.jsx(x,{className:"h-5 w-5 mr-2"}),"Entrar na Reunião"]}),e.jsxs(a,{variant:"outline",size:"lg",onClick:k,"data-testid":"button-join-audio",children:[e.jsx(f,{className:"h-5 w-5 mr-2"}),"Entrar apenas com Áudio"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Certifique-se de que seu microfone e câmera estão funcionando"})]})]})});var C}export{M as default};
