import{j as e,c as t,d as s,P as a,b as r,u as i,e as n,X as o,Y as l}from"./ui-Dcxc0my-.js";import{r as d,R as c}from"./vendor-v6ZOr5pf.js";import{c as m,C as x,a as h,b as u,d as p,B as g,e as b,f,M as v,U as j,u as y,T as N,P as w,g as k,h as C,i as D,j as E,H as T,L as S,k as I,l as q,m as M,V as P,n as z,o as L,S as A,p as R}from"./index-kLixipXW.js";import{u as _}from"./useQuery-Boy_V7AT.js";import{S as F}from"./scroll-area-DVIRyZwZ.js";import{A as K,a as $,b as Q}from"./avatar-De0eUN9F.js";import{C as B}from"./cake-DxBYxWPa.js";import{R as O}from"./refresh-cw-hV3h4Cfj.js";import{T as U}from"./trending-up-CBTLCJ66.js";import{g as V,a as H,b as W,c as Y,M as J,d as Z,e as G}from"./mount-icon-CWOJc24I.js";import{P as X}from"./pointsCalculator-BwBrJ8sV.js";import{D as ee,a as te,b as se,c as ae}from"./dialog-DD0-rGkz.js";import{T as re}from"./textarea-CLhrzmXo.js";import{C as ie}from"./clock-CJQtUt-X.js";import{P as ne}from"./plus-DE_-FkBP.js";import"./charts-56rtB2he.js";
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=m("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),le=({birthdaysToday:t,birthdaysThisMonth:s,isLoading:a=!1})=>{const r=e=>{try{if(!e||"string"!=typeof e)return"Data inv√°lida";if(e.includes("-")&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[t,s,a]=e.split("-"),r=parseInt(a),i=parseInt(s);if(r>=1&&r<=31&&i>=1&&i<=12)return`${String(r).padStart(2,"0")}/${String(i).padStart(2,"0")}`}if(e.includes("T")&&e.includes("Z")){const t=e.split("T")[0],[s,a,r]=t.split("-"),i=parseInt(r),n=parseInt(a);if(i>=1&&i<=31&&n>=1&&n<=12)return`${String(i).padStart(2,"0")}/${String(n).padStart(2,"0")}`}const t=new Date(e);if(isNaN(t.getTime())){if(e.includes("/")){const t=e.split("/");if(3===t.length){const[e,s,a]=t,r=parseInt(e),i=parseInt(s);let n=parseInt(a);if(n<100&&(n+=n<50?2e3:1900),r>=1&&r<=31&&i>=1&&i<=12){const e=new Date(n,i-1,r);if(!isNaN(e.getTime()))return e.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}}}return"Data inv√°lida"}return new Date(t.getFullYear(),t.getMonth(),t.getDate()).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}catch(t){return"Data inv√°lida"}},i=e=>{try{if(!e||"string"!=typeof e)return"Dia inv√°lido";(new Date).getFullYear();const t=2025;let s=e;if(e.includes("T")&&e.includes("Z")){const s=e.split("T")[0],[a,r,i]=s.split("-"),n=new Date(t,parseInt(r)-1,parseInt(i));return["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"][n.getDay()]}const a=new Date(s);if(isNaN(a.getTime())){if(e.includes("/")){const s=e.split("/");if(3===s.length){const[e,a]=s,r=parseInt(e),i=parseInt(a);if(r>=1&&r<=31&&i>=1&&i<=12){const e=new Date(t,i-1,r);return["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"][e.getDay()]}}}if(e.includes("-")&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[s,a,r]=e.split("-"),i=parseInt(r),n=parseInt(a);if(i>=1&&i<=31&&n>=1&&n<=12){const e=new Date(t,n-1,i);return["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"][e.getDay()]}}return"Dia inv√°lido"}const r=new Date(t,a.getMonth(),a.getDate());return["Domingo","Segunda","Ter√ßa","Quarta","Quinta","Sexta","S√°bado"][r.getDay()]}catch(t){return"Dia inv√°lido"}},n=e=>{if(!e)return!1;const t=e.replace(/\D/g,"");return t.length>=10&&t.length<=11},o=e=>{const t=`https://wa.me/55${e.replace(/\D/g,"")}?text=${encodeURIComponent("Ol√°! Feliz anivers√°rio! üéÇ Que Deus aben√ßoe seu dia!")}`;window.open(t,"_blank")},l=t.filter(e=>{const t=new Date(e.birthDate),s=new Date;return t.getMonth()===s.getMonth()}),d=s.filter(e=>!(e=>{const t=new Date;let s=e;e.includes("T")&&e.includes("Z")&&(s=e.split("T")[0]);const a=new Date(s);if(isNaN(a.getTime())){if(e&&"string"==typeof e&&e.includes("/")){const s=e.split("/");if(3===s.length){const[e,a]=s,r=parseInt(e),i=parseInt(a);return t.getDate()===r&&t.getMonth()===i-1}}if(e&&"string"==typeof e&&e.includes("-")&&e.match(/^\d{4}-\d{2}-\d{2}$/)){const[s,a,r]=e.split("-"),i=parseInt(r),n=parseInt(a);return t.getDate()===i&&t.getMonth()===n-1}return!1}return t.getDate()===a.getDate()&&t.getMonth()===a.getMonth()})(e.birthDate)).sort((e,t)=>{const s=new Date(e.birthDate),a=new Date(t.birthDate);let r=0,i=0;if(isNaN(s.getTime())){if(e.birthDate&&"string"==typeof e.birthDate&&e.birthDate.includes("/")){const t=e.birthDate.split("/");3===t.length&&(r=parseInt(t[0]))}else if(e.birthDate&&"string"==typeof e.birthDate&&e.birthDate.includes("-")&&e.birthDate.match(/^\d{4}-\d{2}-\d{2}$/)){const t=e.birthDate.split("-");r=parseInt(t[2])}}else r=s.getDate();if(isNaN(a.getTime())){if(t.birthDate&&"string"==typeof t.birthDate&&t.birthDate.includes("/")){const e=t.birthDate.split("/");3===e.length&&(i=parseInt(e[0]))}else if(t.birthDate&&"string"==typeof t.birthDate&&t.birthDate.includes("-")&&t.birthDate.match(/^\d{4}-\d{2}-\d{2}$/)){const e=t.birthDate.split("-");i=parseInt(e[2])}}else i=a.getDate();return r-i});if(a)return e.jsxs(x,{className:"shadow-divine",children:[e.jsx(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsxs(u,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),"Aniversariantes do m√™s"]})}),e.jsx(p,{children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]});const c=l.length+d.length;return e.jsxs(x,{className:"shadow-divine",children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs(u,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),"Aniversariantes do m√™s"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.length>0&&e.jsxs(g,{variant:"destructive",className:"text-xs",children:[l.length," hoje"]}),e.jsxs(g,{variant:"outline",className:"text-xs",children:[c," total"]})]})]}),e.jsx(p,{children:0===c?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(B,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum aniversariante este m√™s"})]}):e.jsx(F,{className:"h-96",children:e.jsxs("div",{className:"space-y-3 pr-4",children:[l.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-primary mb-2 flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),"Aniversariantes de Hoje"]}),e.jsx("div",{className:"space-y-2",children:l.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-primary/10 border border-primary/20 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs(K,{className:"h-12 w-12",children:[e.jsx($,{src:t.profilePhoto}),e.jsx(Q,{className:"text-sm font-medium",children:t.name.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-semibold truncate",children:t.name}),e.jsx(g,{variant:"destructive",className:"text-xs px-2 py-0",children:"Hoje!"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(b,{className:"h-3 w-3"}),e.jsx("span",{children:r(t.birthDate)}),e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{children:i(t.birthDate)}),t.church&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{className:"text-muted-foreground/70",children:t.church})]})]})]})]}),n(t.phone)&&e.jsx(f,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-green-600 hover:text-green-700 hover:bg-green-50",onClick:()=>o(t.phone),title:"Enviar mensagem no WhatsApp",children:e.jsx(v,{className:"h-4 w-4"})})]},t.id))})]}),d.length>0&&e.jsx("div",{className:"border-t border-border my-4"})]}),d.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-muted-foreground mb-2",children:"Outros aniversariantes do m√™s"}),e.jsx("div",{className:"space-y-2",children:d.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs(K,{className:"h-10 w-10",children:[e.jsx($,{src:t.profilePhoto}),e.jsx(Q,{className:"text-sm font-medium",children:t.name.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("p",{className:"text-sm font-medium truncate",children:t.name})}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(b,{className:"h-3 w-3"}),e.jsx("span",{children:r(t.birthDate)}),e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{children:i(t.birthDate)}),t.church&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{className:"text-muted-foreground/70",children:t.church})]})]})]})]}),n(t.phone)&&e.jsx(f,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-green-600 hover:text-green-700 hover:bg-green-50",onClick:()=>o(t.phone),title:"Enviar mensagem no WhatsApp",children:e.jsx(v,{className:"h-4 w-4"})})]},t.id))})]})]})})})]})},de=({visitsCompleted:t,visitsExpected:s,totalVisits:a=0,visitedPeople:r=0,percentage:i=0,isLoading:n=!1,onRefresh:o})=>{const l=i||(s>0?Math.round(t/s*100):0),d=2*Math.PI*60,c=d,m=d-l/100*d,b=(v=l)>=100?"#10b981":v>=60?"#f59e0b":"#ef4444";var v;return n?e.jsxs(x,{className:"shadow-divine",children:[e.jsx(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsxs(u,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4"}),"Visit√¥metro"]})}),e.jsx(p,{children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded-full mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]}):e.jsxs(x,{className:"shadow-divine",children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxs(u,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4"}),"Visit√¥metro"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:(e=>e>=100?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":e>=60?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200")(l),children:(e=>e>=100?"Meta Atingida":e>=60?"Em Progresso":"Atrasado")(l)}),o&&e.jsx(f,{size:"sm",variant:"ghost",onClick:o,className:"h-6 w-6 p-0",title:"Atualizar visit√¥metro",children:e.jsx(O,{className:"h-3 w-3"})})]})]}),e.jsx(p,{className:"h-96 flex flex-col justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"relative",children:e.jsxs("svg",{width:"140",height:"140",className:"transform -rotate-90",children:[e.jsx("circle",{cx:"70",cy:"70",r:60,stroke:"#e5e7eb",strokeWidth:8,fill:"none"}),e.jsx("circle",{cx:"70",cy:"70",r:60,stroke:b,strokeWidth:8,fill:"none",strokeDasharray:c,strokeDashoffset:m,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s ease-in-out, stroke 0.3s ease-in-out"}}),e.jsxs("g",{stroke:"#6b7280",strokeWidth:"2",children:[e.jsx("line",{x1:"70",y1:"10",x2:"70",y2:"20"}),e.jsx("line",{x1:"110",y1:"30",x2:"105",y2:"35"}),e.jsx("line",{x1:"130",y1:"70",x2:"120",y2:"70"}),e.jsx("line",{x1:"110",y1:"110",x2:"105",y2:"105"}),e.jsx("line",{x1:"70",y1:"130",x2:"70",y2:"120"})]}),e.jsxs("text",{x:"70",y:"70",textAnchor:"middle",dominantBaseline:"middle",className:"text-2xl font-bold fill-current",style:{transform:"rotate(90deg)",transformOrigin:"70px 70px"},children:[l,"%"]})]})}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Pessoas Visitadas"})]}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[r||t," / ",s]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s-(r||t)>0?s-(r||t)+" pessoas pendentes":"Todas as pessoas foram visitadas!"})]}),e.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-emerald-500"}),e.jsx("span",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:"Visitas Realizadas"})]}),e.jsx("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:a}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a>(r||t)?`M√©dia de ${(a/(r||t)).toFixed(1)} visitas por pessoa`:"Uma visita por pessoa"})]})]})]})})]})},ce=({userData:t,showDetails:s=!1})=>{const a=y(),r=t||{engajamento:"Alto",classificacao:"Recorrente",dizimista:"Recorrente (8-12 meses)",ofertante:"Sazonal (4-7 meses)",tempoBatismo:15,cargos:["L√≠der de Jovens","M√∫sico"],departamentos:["Jovens","M√∫sica","Evangelismo"],nomeUnidade:"Unidade Central",temLicao:!0,comunhao:12,missao:10,estudoBiblico:8,totalPresenca:25,batizouAlguem:!0,discipuladoPosBatismo:5,cpfValido:!0,camposVaziosACMS:!1};let i;if(t&&void 0!==t.actualPoints)i=t.actualPoints;else{i=X.calculateDetailedPoints(r).total}V(i);const n=H(i),o=W(i),l=Y(i);return e.jsxs(x,{onClick:()=>a("/gamification"),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||a("/gamification")},className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(u,{className:"text-sm font-semibold text-gray-700",children:"Minha Pontua√ß√£o"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-yellow-500 to-purple-600 text-white shadow-lg",children:e.jsx(N,{className:"h-4 w-4"})})]}),e.jsx(p,{className:"relative z-10 flex-1",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Pontos atuais:"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-yellow-600 to-purple-800 bg-clip-text text-transparent",children:i})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Montanha atual:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{iconType:Z(i),className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-semibold text-gray-800",children:G(i)})]})]}),n&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Para ",n.mount]}),e.jsxs("span",{children:[Math.round(o),"%"]})]}),e.jsx(w,{value:o,className:"h-2"}),e.jsx("div",{className:"text-center text-xs text-gray-500",children:l>0?`${l} pts restantes`:"Monte m√°ximo!"})]})]})}),e.jsx("div",{className:"px-6 pb-4 mt-auto",children:e.jsx(f,{variant:"link",size:"sm",className:"p-0 text-blue-700",onClick:()=>a("/gamification"),children:"Toque para ver detalhes"})})]})};var me="Checkbox",[xe,he]=t(me),[ue,pe]=xe(me);function ge(t){const{__scopeCheckbox:s,checked:a,children:i,defaultChecked:n,disabled:o,form:l,name:c,onCheckedChange:m,required:x,value:h="on",internal_do_not_use_render:u}=t,[p,g]=r({prop:a,defaultProp:n??!1,onChange:m,caller:me}),[b,f]=d.useState(null),[v,j]=d.useState(null),y=d.useRef(!1),N=!b||(!!l||!!b.closest("form")),w={checked:p,disabled:o,setChecked:g,control:b,setControl:f,name:c,form:l,value:h,hasConsumerStoppedPropagationRef:y,required:x,defaultChecked:!Ce(n)&&n,isFormControl:N,bubbleInput:v,setBubbleInput:j};return e.jsx(ue,{scope:s,...w,children:ke(u)?u(w):i})}var be="CheckboxTrigger",fe=d.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:r,...o},l)=>{const{control:c,value:m,disabled:x,checked:h,required:u,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:b,isFormControl:f,bubbleInput:v}=pe(be,t),j=i(l,p),y=d.useRef(h);return d.useEffect(()=>{const e=c?.form;if(e){const t=()=>g(y.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,g]),e.jsx(a.button,{type:"button",role:"checkbox","aria-checked":Ce(h)?"mixed":h,"aria-required":u,"data-state":De(h),"data-disabled":x?"":void 0,disabled:x,value:m,...o,ref:j,onKeyDown:n(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:n(r,e=>{g(e=>!!Ce(e)||!e),v&&f&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})});fe.displayName=be;var ve=d.forwardRef((t,s)=>{const{__scopeCheckbox:a,name:r,checked:i,defaultChecked:n,required:o,disabled:l,value:d,onCheckedChange:c,form:m,...x}=t;return e.jsx(ge,{__scopeCheckbox:a,checked:i,defaultChecked:n,disabled:l,required:o,onCheckedChange:c,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:t})=>e.jsxs(e.Fragment,{children:[e.jsx(fe,{...x,ref:s,__scopeCheckbox:a}),t&&e.jsx(we,{__scopeCheckbox:a})]})})});ve.displayName=me;var je="CheckboxIndicator",ye=d.forwardRef((t,r)=>{const{__scopeCheckbox:i,forceMount:n,...o}=t,l=pe(je,i);return e.jsx(s,{present:n||Ce(l.checked)||!0===l.checked,children:e.jsx(a.span,{"data-state":De(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:r,style:{pointerEvents:"none",...t.style}})})});ye.displayName=je;var Ne="CheckboxBubbleInput",we=d.forwardRef(({__scopeCheckbox:t,...s},r)=>{const{control:n,hasConsumerStoppedPropagationRef:c,checked:m,defaultChecked:x,required:h,disabled:u,name:p,value:g,form:b,bubbleInput:f,setBubbleInput:v}=pe(Ne,t),j=i(r,v),y=o(m),N=l(n);d.useEffect(()=>{const e=f;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set,a=!c.current;if(y!==m&&s){const t=new Event("click",{bubbles:a});e.indeterminate=Ce(m),s.call(e,!Ce(m)&&m),e.dispatchEvent(t)}},[f,y,m,c]);const w=d.useRef(!Ce(m)&&m);return e.jsx(a.input,{type:"checkbox","aria-hidden":!0,defaultChecked:x??w.current,required:h,disabled:u,name:p,value:g,form:b,...s,tabIndex:-1,ref:j,style:{...s.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function ke(e){return"function"==typeof e}function Ce(e){return"indeterminate"===e}function De(e){return Ce(e)?"indeterminate":e?"checked":"unchecked"}we.displayName=Ne;const Ee=d.forwardRef(({className:t,...s},a)=>e.jsx(ve,{ref:a,className:k("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(ye,{className:k("flex items-center justify-center text-current"),children:e.jsx(C,{className:"h-4 w-4"})})}));Ee.displayName=ve.displayName;const Te=[{score:1,emoji:"üçÉ",label:"Distante",verse:"Tenho, por√©m, contra ti que deixaste o teu primeiro amor.",reference:"Apocalipse 2:4",description:"Quase n√£o oro, minha B√≠blia est√° fechada, e percebo que outras coisas t√™m ocupado o lugar de Deus na minha vida."},{score:2,emoji:"üîç",label:"Buscando",verse:"Buscai ao Senhor enquanto se pode achar, invocai-o enquanto est√° perto.",reference:"Isa√≠as 55:6",description:"Sinto falta de Deus, fa√ßo algumas ora√ß√µes r√°pidas, ou√ßo mensagens e at√© abro a B√≠blia, mas ainda sem const√¢ncia."},{score:3,emoji:"üå±",label:"Enraizando",verse:"Antes, tem o seu prazer na lei do Senhor, e na sua lei medita de dia e de noite.",reference:"Salmo 1:2",description:"J√° leio a B√≠blia com mais frequ√™ncia, encontro respostas, come√ßo a praticar e percebo mudan√ßas no meu cora√ß√£o."},{score:4,emoji:"üå≥",label:"Frutificando",verse:"Eu sou a videira, v√≥s as varas; quem permanece em mim, e eu nele, esse d√° muito fruto.",reference:"Jo√£o 15:5",description:"Minha f√© come√ßa a transbordar em atitudes, ajudo pessoas, testemunho de Cristo e inspiro outros a segui-lo."},{score:5,emoji:"‚ú®",label:"Intimidade",verse:"E andou Enoque com Deus; e j√° n√£o apareceu, porquanto Deus para si o tomou.",reference:"G√™nesis 5:24",description:"Vivo em comunh√£o di√°ria com Deus, oro constantemente, ou√ßo Sua voz e procuro andar em plena sintonia com Ele."}],Se=({isOpen:t,onClose:s})=>{const{user:a}=D(),[r,i]=d.useState({score:0,prayerRequest:"",isPrivate:!1,allowChurchMembers:!1}),[n,o]=d.useState(!1),[l,c]=d.useState(null),{toast:m}=E();d.useEffect(()=>{if(null!==l){const e=setTimeout(()=>{c(null)},5e3);return()=>clearTimeout(e)}},[l]);return e.jsx(ee,{open:t,onOpenChange:s,children:e.jsxs(te,{className:"max-w-md mx-auto",children:[e.jsxs(se,{children:[e.jsxs(ae,{className:"flex items-center gap-2 text-center",children:[e.jsx(T,{className:"h-5 w-5 text-red-500"}),"Como est√° sua vida espiritual hoje?"]}),e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Compartilhe sua situa√ß√£o espiritual e, se desejar, um pedido de ora√ß√£o"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(S,{className:"text-base font-medium",children:"Selecione sua situa√ß√£o espiritual:"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Te.map(t=>e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>{return e=t.score,void i(t=>({...t,score:e}));var e},className:"w-full p-3 rounded-lg border-2 transition-all hover:scale-105 flex flex-col items-center justify-center "+(r.score===t.score?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[e.jsx("div",{className:"text-2xl mb-1",children:t.emoji}),e.jsx("div",{className:"text-xs text-gray-600 text-center leading-tight",children:t.label})]}),e.jsx("button",{onClick:()=>{return e=t.score,void c(l===e?null:e);var e},className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-blue-600 transition-colors",title:"Clique para ver explica√ß√£o",children:"?"}),l===t.score&&e.jsx("div",{className:"absolute z-50 bottom-full left-0 right-0 mb-2 bg-white border border-gray-200 rounded-lg shadow-lg p-3 w-64",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-200",children:[e.jsx("div",{className:"text-2xl",children:t.emoji}),e.jsx("div",{children:e.jsxs("h4",{className:"font-semibold text-sm text-gray-900",children:["N√≠vel ",t.score," ‚Äì ",t.label]})})]}),e.jsx("div",{className:"bg-gray-50 rounded-md p-2",children:e.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:t.description})})]})})]},t.score))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(S,{htmlFor:"prayerRequest",className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),"Pedido de Ora√ß√£o (opcional)"]}),e.jsx(re,{id:"prayerRequest",placeholder:"Compartilhe seu pedido de ora√ß√£o ou agradecimento...",value:r.prayerRequest,onChange:e=>i(t=>({...t,prayerRequest:e.target.value})),rows:3})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(S,{className:"text-base font-medium",children:"Configura√ß√µes de privacidade:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{id:"isPrivate",checked:r.isPrivate,onCheckedChange:e=>i(t=>({...t,isPrivate:e}))}),e.jsxs(S,{htmlFor:"isPrivate",className:"flex items-center gap-2 text-sm",children:[e.jsx(I,{className:"h-4 w-4"}),"Apenas o pastor ver√° meus motivos de ora√ß√£o"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{id:"allowChurchMembers",checked:r.allowChurchMembers,onCheckedChange:e=>i(t=>({...t,allowChurchMembers:e})),disabled:r.isPrivate}),e.jsxs(S,{htmlFor:"allowChurchMembers",className:"flex items-center gap-2 text-sm",children:[e.jsx(j,{className:"h-4 w-4"}),"Permitir que membros da igreja vejam meu pedido"]})]})]}),e.jsx(f,{onClick:async()=>{if(0!==r.score){o(!0);try{if(!(await fetch("/api/emotional-checkin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a?.id,score:r.score,prayerRequest:r.prayerRequest,isPrivate:r.isPrivate,allowChurchMembers:r.allowChurchMembers})})).ok)throw new Error("Erro ao enviar check-in");m({title:"Check-in espiritual enviado!",description:"Obrigado por compartilhar sua situa√ß√£o espiritual conosco."}),s(),i({score:0,prayerRequest:"",isPrivate:!1,allowChurchMembers:!1}),c(null)}catch(e){m({title:"Erro ao enviar check-in",description:"N√£o foi poss√≠vel enviar seu check-in espiritual. Tente novamente.",variant:"destructive"})}finally{o(!1)}}else m({title:"Selecione como est√° espiritualmente",description:"Por favor, escolha uma situa√ß√£o espiritual de 1 a 5 para continuar.",variant:"destructive"})},disabled:n||0===r.score,className:"w-full",children:n?"Enviando...":"Enviar Check-in Espiritual"})]})]})})},Ie=c.memo(()=>{const{user:t}=D(),s=y(),a=q(),{shouldShowCheckIn:r,markCheckInComplete:i}=(()=>{const[e,t]=d.useState(!1),[s,a]=d.useState(!0);d.useEffect(()=>{r()},[]);const r=async()=>{try{const e=(new Date).toDateString();localStorage.getItem("lastSpiritualCheckIn")!==e&&t(!0)}catch(e){}finally{a(!1)}};return{shouldShowCheckIn:e,isLoading:s,markCheckInComplete:()=>{const e=(new Date).toDateString();localStorage.setItem("lastSpiritualCheckIn",e),t(!1)},resetCheckIn:()=>{localStorage.removeItem("lastSpiritualCheckIn"),t(!0)}}})();E();const[n,o]=d.useState(!1),{data:l,isLoading:m}=_({queryKey:["/api/dashboard/stats"],queryFn:async()=>{const e=await fetch("/api/dashboard/stats");if(!e.ok)throw new Error("Failed to fetch dashboard stats");return e.json()},staleTime:0,refetchInterval:3e4,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0}),{data:g,isLoading:v}=_({queryKey:["/api/users/birthdays",t?.id,t?.role],queryFn:async()=>{const e={};t?.id&&(e["x-user-id"]=t.id.toString(),e["x-user-role"]=t.role);const s=await fetch("/api/users/birthdays",{headers:e});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.json()},enabled:!!t,refetchInterval:3e4,staleTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0}),{data:N,refetch:k,isLoading:C}=_({queryKey:["/api/dashboard/visits"],queryFn:async()=>{const e=await fetch("/api/dashboard/visits");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:S,isLoading:I}=_({queryKey:["/api/relationships/missionary",t?.id],queryFn:async()=>{if(!t?.id||"missionary"!==t.role)return[];const e=await fetch(`/api/relationships/missionary/${t.id}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!t?.id&&"missionary"===t.role,refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:F,isLoading:K}=_({queryKey:["/api/events",t?.role],queryFn:async()=>{if(!t?.role)return[];const e=await fetch(`/api/events?role=${t.role}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!t?.role,refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:$,isLoading:Q}=_({queryKey:["/api/emotional-checkins/admin"],queryFn:async()=>{if("admin"!==t?.role)return[];const e=await fetch("/api/emotional-checkins/admin");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return e.json()},enabled:"admin"===t?.role,refetchInterval:6e4,staleTime:3e4,gcTime:3e5}),B=d.useMemo(()=>{if(!F||!Array.isArray(F)||0===F.length)return 0;const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),s=new Date(e.getFullYear(),e.getMonth()+1,1),a=e=>{if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t};return F.filter(e=>!(!e||"object"!=typeof e)&&((e,t,s,a)=>{if(!e&&!t)return!1;const r=e??t??s;return r<a&&(t??e??r)>=s})(a(e.startDate),a(e.endDate),t,s)).length},[F]),O=({events:t})=>{if(!t||!Array.isArray(t))return e.jsx("p",{className:"text-xs text-gray-500",children:"Sem pr√≥ximos eventos"});const s=e=>{if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t},a=[...t].filter(e=>e&&"object"==typeof e).map(e=>({...e,_start:s(e.startDate)})).filter(e=>e._start&&e._start>=new Date).sort((e,t)=>e._start.getTime()-t._start.getTime());if(0===a.length)return e.jsx("p",{className:"text-xs text-gray-500",children:"Sem pr√≥ximos eventos"});const r=a[0],i=r._start.toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"2-digit"});return e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-blue-100/60 bg-gradient-to-br from-white to-blue-50/40 p-3 shadow-sm",children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-blue-500/10 text-blue-700",children:e.jsx(b,{className:"h-5 w-5"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-blue-700/70",children:"Pr√≥ximo evento"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 truncate",children:r.title||"Sem t√≠tulo"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[11px] text-gray-500",children:"Data"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:i})]})]})},V=({birthdays:t})=>{if(v)return e.jsx("p",{className:"text-xs text-gray-500",children:"Carregando..."});if(t.today&&t.today.length>0)return e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-pink-100/60 bg-gradient-to-br from-white to-pink-50/40 p-3 shadow-sm",children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-pink-500/10 text-pink-700",children:e.jsx("span",{className:"text-lg",children:"üéÇ"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-pink-700/70",children:"Aniversariante do dia"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 truncate",children:t.today[0].name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[11px] text-gray-500",children:"Hoje"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"üéâ"})]})]});{const s=te(t);return s?e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-pink-100/60 bg-gradient-to-br from-white to-pink-50/40 p-3 shadow-sm",children:[e.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-pink-500/10 text-pink-700",children:e.jsx("span",{className:"text-lg",children:"üéÇ"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-[11px] uppercase tracking-wide text-pink-700/70",children:"Pr√≥ximo anivers√°rio"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 truncate",children:s.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[11px] text-gray-500",children:"Data"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:se(s.nextBirthday)})]})]}):e.jsx("p",{className:"text-xs text-gray-500",children:"Sem anivers√°rios pr√≥ximos"})}},{data:H,isLoading:W}=_({queryKey:["/api/my-interested",t?.id],queryFn:async()=>{if(!t?.id||"member"!==t.role&&"missionary"!==t.role)return[];const e=await fetch("/api/my-interested",{headers:{"x-user-id":t.id.toString()}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!t?.id&&("member"===t.role||"missionary"===t.role),refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:Y,isLoading:J}=_({queryKey:["/api/relationships",t?.id],queryFn:async()=>{if(!t?.id||"member"!==t.role&&"missionary"!==t.role)return[];const e=await fetch("/api/relationships");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!t?.id&&("member"===t.role||"missionary"===t.role),refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),{data:Z,isLoading:G}=_({queryKey:["/api/users",t?.id,"points-details"],queryFn:async()=>{if(!t?.id)return null;const e=await fetch(`/api/users/${t.id}/points-details`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()},enabled:!!t?.id,refetchInterval:3e5,staleTime:24e4,gcTime:6e5}),X=d.useMemo(()=>l||{totalUsers:0,totalInterested:0,totalChurches:0,pendingApprovals:0,thisWeekEvents:0,totalEvents:0,approvedUsers:0,totalMembers:0,totalMissionaries:0},[l]),ee=d.useMemo(()=>({admin:[{title:"Gerenciar Usu√°rios",icon:j,action:()=>s("/users"),color:"from-blue-500 to-blue-600",bgColor:"bg-gradient-to-br from-blue-500 to-blue-600"},{title:"Ver Relat√≥rios",icon:z,action:()=>s("/reports"),color:"from-green-500 to-green-600",bgColor:"bg-gradient-to-br from-green-500 to-green-600"},{title:"Configura√ß√µes",icon:M,action:()=>s("/settings"),color:"from-purple-500 to-purple-600",bgColor:"bg-gradient-to-br from-purple-500 to-purple-600"},{title:"Check-in Espiritual",icon:T,action:()=>o(!0),color:"from-pink-500 to-pink-600",bgColor:"bg-gradient-to-br from-pink-500 to-pink-600"}],missionary:[{title:"Meus Interessados",icon:T,action:()=>s("/my-interested"),color:"from-red-500 to-red-600",bgColor:"bg-gradient-to-br from-red-500 to-red-600"},{title:"Nova Reuni√£o",icon:ne,action:()=>s("/meetings"),color:"from-blue-500 to-blue-600",bgColor:"bg-gradient-to-br from-blue-500 to-blue-600"},{title:"Enviar Mensagem",icon:M,action:()=>s("/messages"),color:"from-green-500 to-green-600",bgColor:"bg-gradient-to-br from-green-500 to-green-600"},{title:"Check-in Espiritual",icon:U,action:()=>o(!0),color:"from-pink-500 to-pink-600",bgColor:"bg-gradient-to-br from-pink-500 to-pink-600"}],member:[{title:"Ver Agenda",icon:b,action:()=>s("/calendar"),color:"from-blue-500 to-blue-600",bgColor:"bg-gradient-to-br from-blue-500 to-blue-600"},{title:"Chat",icon:M,action:()=>s("/chat"),color:"from-green-500 to-green-600",bgColor:"bg-gradient-to-br from-green-500 to-green-600"},{title:"Videochamadas",icon:P,action:()=>s("/video-calls"),color:"from-purple-500 to-purple-600",bgColor:"bg-gradient-to-br from-purple-500 to-purple-600"},{title:"Check-in Espiritual",icon:T,action:()=>o(!0),color:"from-pink-500 to-pink-600",bgColor:"bg-gradient-to-br from-pink-500 to-pink-600"}],interested:[{title:"Pr√≥ximos Estudos",icon:b,action:()=>s("/calendar"),color:"from-blue-500 to-blue-600",bgColor:"bg-gradient-to-br from-blue-500 to-blue-600"},{title:"Agendar Reuni√£o",icon:ie,action:()=>s("/meetings"),color:"from-green-500 to-green-600",bgColor:"bg-gradient-to-br from-green-500 to-green-600"},{title:"Check-in Espiritual",icon:T,action:()=>o(!0),color:"from-pink-500 to-pink-600",bgColor:"bg-gradient-to-br from-pink-500 to-pink-600"}]}),[s]);c.useEffect(()=>{let e=!0;const t=t=>{try{if(!e)return;a.invalidateQueries({queryKey:["/api/dashboard/stats"]}),a.invalidateQueries({queryKey:["/api/dashboard/visits"]}),a.invalidateQueries({queryKey:["/api/users"]}),"missionary-assigned"!==t.detail?.type&&"missionary-removed"!==t.detail?.type||(a.invalidateQueries({queryKey:["/api/relationships"]}),a.invalidateQueries({queryKey:["/api/relationships/missionary"]})),"role-reverted"===t.detail?.type&&(a.invalidateQueries({queryKey:["/api/dashboard/stats"]}),a.invalidateQueries({queryKey:["/api/users"]})),"missionary-profile-deactivated"===t.detail?.type&&(a.invalidateQueries({queryKey:["/api/dashboard/stats"]}),a.invalidateQueries({queryKey:["/api/users"]}),a.invalidateQueries({queryKey:["/api/missionary-profiles"]}))}catch(s){}};return window.addEventListener("user-updated",t),window.addEventListener("user-approved",t),window.addEventListener("user-rejected",t),window.addEventListener("user-imported",t),window.addEventListener("relationship-updated",t),window.addEventListener("relationship-created",t),window.addEventListener("relationship-deleted",t),()=>{e=!1,window.removeEventListener("user-updated",t),window.removeEventListener("user-approved",t),window.removeEventListener("user-rejected",t),window.removeEventListener("user-imported",t),window.removeEventListener("relationship-updated",t),window.removeEventListener("relationship-created",t),window.removeEventListener("relationship-deleted",t)}},[a,k]),c.useEffect(()=>{if(!t||!l)return;const e=async()=>{try{await a.invalidateQueries({queryKey:["/api/dashboard/stats"]}),await a.invalidateQueries({queryKey:["/api/users"]})}catch(e){}},s=setInterval(e,3e4),r=()=>{e()};return window.addEventListener("focus",r),()=>{clearInterval(s),window.removeEventListener("focus",r)}},[t,l,a]),c.useEffect(()=>{if("admin"===t?.role&&l){const e=setTimeout(async()=>{try{const e=await fetch("/api/system/check-missionary-profiles",{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){(await e.json()).correctedCount>0&&(a.invalidateQueries({queryKey:["/api/dashboard/stats"]}),a.invalidateQueries({queryKey:["/api/users"]}),a.invalidateQueries({queryKey:["/api/missionary-profiles"]}))}}catch(e){}},2e3);return()=>clearTimeout(e)}},[t?.role,l,a]);const te=e=>{if(!e||!e.all||!Array.isArray(e.all)||0===e.all.length)return null;const t=new Date,s=t.getFullYear(),a=e.all.filter(e=>e&&"object"==typeof e&&e.birthDate).map(e=>{const a=new Date(e.birthDate),r=new Date(s,a.getMonth(),a.getDate());return r<t&&r.setFullYear(s+1),{...e,nextBirthday:r}});return a.sort((e,t)=>e.nextBirthday-t.nextBirthday),a[0]},se=e=>`${e.getDate().toString().padStart(2,"0")}/${(e.getMonth()+1).toString().padStart(2,"0")}`;return t?e.jsx(L,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 via-transparent to-blue-400/5"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(59,130,246,0.15),transparent_50%)]"}),e.jsxs("div",{className:"relative space-y-8 p-6 max-w-7xl mx-auto",children:[(()=>{const s=ee["missionary"===t?.role||"member"===t?.role?"member":t?.role]||[];return e.jsxs(x,{className:"relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-purple-500/5 opacity-0 hover:opacity-100 transition-opacity duration-300"}),e.jsxs(h,{className:"relative z-10",children:[e.jsxs(u,{className:"flex items-center gap-2 text-gray-800",children:[e.jsx(A,{className:"h-5 w-5 text-indigo-600"}),"A√ß√µes R√°pidas"]}),e.jsx(R,{className:"text-gray-600",children:"Acesso r√°pido √†s funcionalidades principais"})]}),e.jsx(p,{className:"relative z-10",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:s.map((t,s)=>e.jsxs(f,{onClick:t.action,className:`h-auto p-6 flex flex-col items-center gap-3 ${t.bgColor} hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl border-0 text-white font-medium`,"data-testid":`quick-action-${t.title.toLowerCase().replace(/\s+/g,"-")}`,children:[e.jsx("div",{className:"p-3 rounded-full bg-white/20 backdrop-blur-sm",children:e.jsx(t.icon,{className:"h-6 w-6"})}),e.jsx("span",{className:"text-sm font-semibold text-center",children:t.title})]},s))})})]})})(),"admin"===t.role&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(x,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-blue-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(u,{className:"text-sm font-semibold text-gray-700",children:"Total de Usu√°rios"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:e.jsx(j,{className:"h-4 w-4"})})]}),e.jsxs(p,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent",children:m?"...":X.totalUsers}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[X.approvedUsers," usu√°rios aprovados"]})]})]}),e.jsxs(x,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-red-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(u,{className:"text-sm font-semibold text-gray-700",children:"Interessados"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg",children:e.jsx(T,{className:"h-4 w-4"})})]}),e.jsxs(p,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent",children:m?"...":X.totalInterested}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Pessoas em processo de interesse"})]})]}),e.jsxs(x,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/5 to-orange-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(u,{className:"text-sm font-semibold text-gray-700",children:"Aprova√ß√µes Pendentes"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-lg",children:e.jsx(oe,{className:"h-4 w-4"})})]}),e.jsxs(p,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-orange-600 to-orange-800 bg-clip-text text-transparent",children:m?"...":X.pendingApprovals}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Aguardando aprova√ß√£o"})]})]}),e.jsxs(x,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-green-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(u,{className:"text-sm font-semibold text-gray-700",children:"Membros"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-green-500 to-green-600 text-white shadow-lg",children:e.jsx(j,{className:"h-4 w-4"})})]}),e.jsxs(p,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-green-800 bg-clip-text text-transparent",children:m?"...":X.totalMembers}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Membros ativos da igreja"})]})]}),e.jsxs(x,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(u,{className:"text-sm font-semibold text-gray-700",children:"Mission√°rios"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:e.jsx(T,{className:"h-4 w-4"})})]}),e.jsxs(p,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-purple-800 bg-clip-text text-transparent",children:m?"...":X.totalMissionaries}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Discipuladores ativos"})]})]}),e.jsxs(x,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/5 to-pink-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(u,{className:"text-sm font-semibold text-gray-700",children:"Check-ins Emocionais"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-pink-500 to-pink-600 text-white shadow-lg",children:e.jsx(T,{className:"h-4 w-4"})})]}),e.jsxs(p,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-pink-800 bg-clip-text text-transparent",children:Q?"...":$?.length||0}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"√öltimos check-ins espirituais dos membros"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"group",children:e.jsx(de,{visitsCompleted:N?.completed||0,visitsExpected:N?.expected||0,totalVisits:N?.totalVisits||0,visitedPeople:N?.visitedPeople||0,percentage:N?.percentage||0,isLoading:m||C,onRefresh:k})}),e.jsx("div",{className:"group",children:e.jsx(le,{birthdaysToday:g?.today||[],birthdaysThisMonth:g?.thisMonth||[],isLoading:v})})]})]})}),("missionary"===t.role||"member"===t.role)&&(()=>{const a=H&&Array.isArray(H)?H.length:0,r=Y&&Array.isArray(Y)?Y.filter(e=>e&&"object"==typeof e&&e.missionaryId===t?.id&&"active"===e.status):[],i=Y&&Array.isArray(Y)?Y.filter(e=>e&&"object"==typeof e&&e.missionaryId===t?.id&&"pending"===e.status):[],n=r.length+i.length;return e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(x,{onClick:()=>s("/my-interested"),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||s("/my-interested")},className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-purple-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(u,{className:"text-sm font-semibold text-gray-700",children:"Interessados"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-lg",children:e.jsx(T,{className:"h-4 w-4"})})]}),e.jsx(p,{className:"relative z-10 flex-1",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Vinculados a voc√™:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-purple-800 bg-clip-text text-transparent",children:J?"...":n}),e.jsxs("div",{className:"flex items-center gap-1",children:[r.length>0&&e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full",title:"Ativos"}),i.length>0&&e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full",title:"Pendentes"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total da igreja:"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent",children:W?"...":a})]}),a>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Seu alcance"}),e.jsxs("span",{children:[a>0?Math.round(n/a*100):0,"%"]})]}),e.jsx(w,{value:a>0?n/a*100:0,className:"h-2"})]})]})}),e.jsx("div",{className:"px-6 pb-4 mt-auto",children:e.jsx(f,{variant:"link",size:"sm",className:"p-0 text-blue-700",onClick:()=>s("/my-interested"),children:"Toque para ver detalhes"})})]}),e.jsxs(x,{onClick:()=>s("/calendar"),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||s("/calendar")},className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 cursor-pointer flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-blue-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(u,{className:"text-sm font-semibold text-gray-700",children:"Eventos do M√™s"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:e.jsx(b,{className:"h-4 w-4"})})]}),e.jsx(p,{className:"relative z-10 flex-1",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Eventos deste m√™s:"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-green-800 bg-clip-text text-transparent",children:K?"...":B})]}),e.jsx("div",{className:"mt-2",children:e.jsx(O,{events:F||[]})}),e.jsx("div",{className:"mt-2",children:e.jsx(V,{birthdays:g})})]})}),e.jsx("div",{className:"px-6 pb-4 mt-auto",children:e.jsx(f,{variant:"link",size:"sm",className:"p-0 text-blue-700",onClick:()=>s("/calendar"),children:"Toque para ver detalhes"})})]}),e.jsx(ce,{showDetails:!0,userData:{...Z?.userData,actualPoints:Z?.points}})]})})})(),"interested"===t.role&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(x,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-blue-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(u,{className:"text-sm font-semibold text-gray-700",children:"Eventos Dispon√≠veis"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg",children:e.jsx(b,{className:"h-4 w-4"})})]}),e.jsx(p,{className:"relative z-10",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Dispon√≠veis para voc√™:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-blue-800 bg-clip-text text-transparent",children:K?"...":F?.length||0}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full",title:"Eventos vis√≠veis"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Eventos desta semana:"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-green-800 bg-clip-text text-transparent",children:m?"...":F?.length||0})]}),X.totalEvents>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Seu acesso"}),e.jsxs("span",{children:[X.totalEvents>0?Math.round((F?.length||0)/X.totalEvents*100):0,"%"]})]}),e.jsx(w,{value:X.totalEvents>0?(F?.length||0)/X.totalEvents*100:0,className:"h-2"})]})]})})]}),e.jsxs(x,{className:"group relative overflow-hidden bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-indigo-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2 relative z-10",children:[e.jsx(u,{className:"text-sm font-semibold text-gray-700",children:"Total Usu√°rios"}),e.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-lg",children:e.jsx(j,{className:"h-4 w-4"})})]}),e.jsxs(p,{className:"relative z-10",children:[e.jsx("div",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-indigo-800 bg-clip-text text-transparent",children:m?"...":X.totalUsers}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Na comunidade"})]})]})]})}),e.jsx(Se,{isOpen:n||r,onClose:()=>{o(!1),i()}})]})]})}):e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-200 via-blue-200 to-slate-300",children:e.jsxs("div",{className:"text-center p-8 rounded-2xl bg-white/90 backdrop-blur-sm shadow-xl border border-white/30",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-amber-600 bg-clip-text text-transparent",children:"Carregando..."}),e.jsx("p",{className:"text-gray-600",children:"Verificando autentica√ß√£o"})]})})});export{Ie as default};
